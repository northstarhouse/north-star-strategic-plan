(()=>{var at=Object.defineProperty,st=Object.defineProperties;var rt=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var Fe=(e,t,a)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,y=(e,t)=>{for(var a in t||(t={}))Te.call(t,a)&&Fe(e,a,t[a]);if(te)for(var a of te(t))Ee.call(t,a)&&Fe(e,a,t[a]);return e},S=(e,t)=>st(e,rt(t));var Ie=(e,t)=>{var a={};for(var u in e)Te.call(e,u)&&t.indexOf(u)<0&&(a[u]=e[u]);if(e!=null&&te)for(var u of te(e))t.indexOf(u)<0&&Ee.call(e,u)&&(a[u]=e[u]);return a};const{useState:x,useEffect:J,useMemo:se}=React,Me="nsh-strategy-cache-v1",Oe="nsh-strategy-metrics-cache-v1",Pe="nsh-strategy-sections-cache-v1",ie="nsh-strategy-quarterly-cache-v1",ce="nsh-strategy-vision-cache-v1",ae="nsh-strategy-focus-goals-cache-v1",ot=300*1e3,pe=()=>{try{const e=localStorage.getItem(Me);if(!e)return null;const t=JSON.parse(e);return!t||!Array.isArray(t.objects)?null:t}catch(e){return console.warn("Failed to read cache:",e),null}},H=e=>{try{localStorage.setItem(Me,JSON.stringify({objects:e,updatedAt:Date.now()}))}catch(t){console.warn("Failed to write cache:",t)}},me=!0,O="https://script.google.com/macros/s/AKfycbwceVcGLuTCKp_GjlzYERa1OyhUcQQw6jnKhG2cmn4_AgSZjPEE8CWaO698S-lEtlk1/exec",Re=O,W=["Fund Development","House and Grounds Development","Programs and Events","Organizational Development"],ge=[{key:"construction",label:"Construction",sheet:"Construction"},{key:"grounds",label:"Grounds",sheet:"Grounds"},{key:"interiors",label:"Interiors",sheet:"Interiors"},{key:"docents",label:"Docents",sheet:"Docents"},{key:"fund",label:"Fundraising",sheet:"Fundraising"},{key:"events",label:"Events",sheet:"Events"},{key:"marketing",label:"Marketing",sheet:"Marketing"},{key:"venue",label:"Venue",sheet:"Venue"}],_=["Not started","On track","At risk","Behind","Complete"],nt=["Pending","Reviewed","Needs info"],Ge=Array.from({length:11},(e,t)=>t*10),ve=[{id:"1",title:"Launch community listening series",focusArea:"Programs and Events",description:"Host quarterly listening sessions to guide program priorities and gather feedback.",owner:"Community Outreach Lead",coChampions:"Program Director, Board Liaison",status:"On track",progress:60,targetDate:"2026-03-31",successMetrics:"4 sessions held, 120 participants, report delivered to board",threeYearVision:"We will have a clear set of documented programs and services that reinforce the House's role as a cultural historical gathering center and are well-organized, financially sustainable, and have clearly communicated teams of staff/volunteers that run each of the programs/services.",annualGoals:"Host 4 sessions, publish summary report, build annual outreach playbook.",notes:"Align session topics with strategic planning themes.",lastUpdateAt:"2026-01-12T18:30:00.000Z",updates:[{id:"up-1",date:"2026-01-12T18:30:00.000Z",author:"Community Outreach Lead",summary:"Secured first three locations",details:"Libraries and partner agencies confirmed for January and February sessions.",blockers:"Waiting on translation support budget confirmation.",nextSteps:"Finalize outreach materials and RSVP form.",progress:60,links:"https://example.com/agenda",reviewStatus:"Pending",reviewNotes:""}],createdAt:"2025-11-15T12:00:00.000Z",updatedAt:"2026-01-12T18:30:00.000Z"},{id:"2",title:"Build leadership succession pipeline",focusArea:"Organizational Development",description:"Create leadership development plan and identify emerging leaders for key roles.",owner:"Executive Director",coChampions:"Board Chair, HR Committee",status:"At risk",progress:35,targetDate:"2026-09-30",successMetrics:"Pipeline matrix completed, two leaders in shadow roles",threeYearVision:"A smooth-running organization that ensures the success of the Conservancy.",annualGoals:"Finalize competencies, identify 2 shadow roles, launch mentoring cadence.",notes:"Need agreement on competencies and mentorship structure.",lastUpdateAt:"2025-12-18T17:05:00.000Z",updates:[{id:"up-2",date:"2025-12-18T17:05:00.000Z",author:"Executive Director",summary:"Drafted role competency framework",details:"Outlined core competencies for leadership roles; awaiting committee review.",blockers:"Committee schedule conflict in January.",nextSteps:"Hold workshop to finalize framework.",progress:35,links:"",reviewStatus:"Needs info",reviewNotes:"Please add timeline impact for delayed workshop."}],createdAt:"2025-10-01T09:00:00.000Z",updatedAt:"2025-12-18T17:05:00.000Z"},{id:"3",title:"Complete house restoration and grounds plan",focusArea:"House and Grounds Development",description:"Finish the first floor renovation, restore the second floor with a volunteer crew, install fire suppression, and clarify the grounds plan.",owner:"Facilities Lead",coChampions:"Volunteer Crew Lead, Board Liaison",status:"Not started",progress:0,targetDate:"2028-12-31",successMetrics:"First floor renovated, second floor restored, fire suppression installed, grounds plan approved.",threeYearVision:"Complete the first floor renovation. The 2nd floor of the house will be restored by a clearly-led and well-organized volunteer crew. A fire suppression system will be installed. Plans for the rest of the grounds will have been clarified.",annualGoals:"Confirm scope, recruit volunteer crew, secure fire suppression bids, draft grounds plan options.",notes:"",lastUpdateAt:"2026-01-15T12:00:00.000Z",updates:[],createdAt:"2026-01-01T12:00:00.000Z",updatedAt:"2026-01-15T12:00:00.000Z"},{id:"4",title:"Staff and organize fund development plan",focusArea:"Fund Development",description:"Build staffing, systems, and campaign execution to accelerate fundraising.",owner:"Development Director",coChampions:"Board Treasurer, Capital Campaign Chair",status:"Not started",progress:0,targetDate:"2028-12-31",successMetrics:"Fund development staffing in place, $1M raised toward capital campaign.",threeYearVision:"Over the next three years we will have successfully staffed and organized our fund development plans and raised $1M of the $2M capital campaign.",annualGoals:"Hire development lead, finalize campaign plan, raise initial $250k.",notes:"",lastUpdateAt:"2026-01-15T12:00:00.000Z",updates:[],createdAt:"2026-01-01T12:00:00.000Z",updatedAt:"2026-01-15T12:00:00.000Z"}],lt=[{id:"fg-1",focusArea:"Fund Development",goalTopic:"Annual goal",annualGoals:"Document the Conservancy\u2019s fund development plan.",annualGoalsItems:[],goalDetails:"",goalLead:"",futureGoals:"",startDate:"",dueDate:"",goalChampions:"Jeff, Haley",goalTeamMembers:"",progress:"Not Started",category:""}],h={isConfigured:()=>me&&O&&O.length>0,postJson:async(e,t)=>{const a=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Request failed");return a.json()},fetchAll:async()=>{if(!me){const e=pe();return(e==null?void 0:e.objects)||[]}if(!h.isConfigured())return console.log("Google Sheets not configured, using sample data"),ve;try{const e=await fetch(`${O}?action=getAll`);if(!e.ok)throw new Error("Failed to fetch data");return(await e.json()).objects||[]}catch(e){return console.error("Error fetching from Google Sheets:",e),ve}},create:async e=>{if(!h.isConfigured())return console.log("Google Sheets not configured, saving locally only"),S(y({},e),{id:Date.now().toString()});try{return(await h.postJson(O,{action:"create",object:e})).result||S(y({},e),{id:Date.now().toString()})}catch(t){return console.error("Error creating in Google Sheets:",t),S(y({},e),{id:Date.now().toString()})}},update:async e=>{if(!h.isConfigured())return console.log("Google Sheets not configured, saving locally only"),e;try{return await h.postJson(O,{action:"update",object:e}),e}catch(t){return console.error("Error updating from Google Sheets:",t),e}},delete:async e=>{if(!h.isConfigured())return console.log("Google Sheets not configured"),!0;try{return await h.postJson(O,{action:"delete",id:e}),!0}catch(t){return console.error("Error deleting from Google Sheets:",t),!1}},uploadFile:async({filename:e,mimeType:t,data:a})=>{if(!Re)throw new Error("Drive upload not configured");const u={action:"uploadImage",filename:e,mimeType:t,data:a},m=await h.postJson(Re,u);if(!m.success)throw new Error(m.error||"Upload failed");return m.result},fetchMetrics:async()=>{if(!h.isConfigured())return null;try{const e=await fetch(`${O}?action=getMetrics`);if(!e.ok)throw new Error("Failed to fetch metrics");return(await e.json()).metrics||null}catch(e){return console.error("Error fetching metrics:",e),null}},submitQuarterlyUpdate:async e=>{if(!h.isConfigured())throw new Error("Google Sheets not configured");const t=await h.postJson(O,{action:"submitQuarterlyUpdate",form:e});if(!t.success)throw new Error(t.error||"Submission failed");return t.result},submitReviewUpdate:async e=>{if(!h.isConfigured())throw new Error("Google Sheets not configured");const t=await h.postJson(O,{action:"submitReviewUpdate",review:e});if(!t.success)throw new Error(t.error||"Submission failed");return t.result},fetchVisionStatements:async()=>{if(!h.isConfigured())return[];try{const e=await fetch(`${O}?action=getVisionStatements`);if(!e.ok)throw new Error("Failed to fetch vision statements");return(await e.json()).vision||[]}catch(e){return console.error("Error fetching vision statements:",e),[]}},updateVisionStatement:async e=>{if(!h.isConfigured())throw new Error("Google Sheets not configured");const t=await h.postJson(O,{action:"updateVisionStatement",vision:e});if(!t.success)throw new Error(t.error||"Save failed");return t.result},fetchFocusAreaGoals:async()=>{if(!h.isConfigured())return[];try{const e=await fetch(`${O}?action=getFocusAreaGoals`);if(!e.ok)throw new Error("Failed to fetch focus area goals");return(await e.json()).goals||[]}catch(e){return console.error("Error fetching focus area goals:",e),[]}},updateFocusAreaGoal:async e=>{if(!h.isConfigured())throw new Error("Google Sheets not configured");const t=await h.postJson(O,{action:"updateFocusAreaGoal",goal:e});if(!t.success)throw new Error(t.error||"Save failed");return t.result},deleteFocusAreaGoal:async e=>{if(!h.isConfigured())throw new Error("Google Sheets not configured");const t=await h.postJson(O,{action:"deleteFocusAreaGoal",id:e});if(!t.success)throw new Error(t.error||"Delete failed");return t.result},fetchQuarterlyUpdates:async()=>{if(!h.isConfigured())return[];try{const e=await fetch(`${O}?action=getQuarterlyUpdates`);if(!e.ok)throw new Error("Failed to fetch quarterly updates");return(await e.json()).updates||[]}catch(e){return console.error("Error fetching quarterly updates:",e),[]}},fetchSectionSnapshots:async()=>{if(!h.isConfigured())return null;try{const e=await fetch(`${O}?action=getSectionSnapshots`);if(!e.ok)throw new Error("Failed to fetch section snapshots");return(await e.json()).sections||null}catch(e){return console.error("Error fetching section snapshots:",e),null}}},q=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to read cache:",t),null}},L=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(a){console.warn("Failed to write cache:",a)}},Ve=()=>`${Date.now()}-${Math.random().toString(16).slice(2,6)}`,xe=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(t){return e}},ue=e=>e==null?"N/A":new Intl.NumberFormat("en-US").format(Number(e)||0),Le=e=>{if(e==null)return"N/A";const t=Number(e)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t)},he=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString().slice(0,10)},dt=(e,t=3)=>{const a=[];for(String(e||"").split(`
`).map(m=>m.trim()).filter(Boolean).forEach(m=>{const n=m.split("|").map(N=>N.trim()),[i="",D="",l=""]=n;a.push({action:i,owner:D,deadline:l})});a.length<t;)a.push({action:"",owner:"",deadline:""});return a.slice(0,t)},je=e=>e.map(t=>[t.action,t.owner,t.deadline].map(a=>a.trim()).join(" | ")).filter(t=>t.replace(/\|/g,"").trim()!=="").join(`
`),Q=e=>S(y({},e),{focusArea:e.focusArea||e.pillar||"",progress:Number(e.progress)||0,updates:Array.isArray(e.updates)?e.updates:[]}),it=e=>e.slice().sort((t,a)=>new Date(a.date)-new Date(t.date)),ct=e=>{switch(e){case"On track":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"At risk":return"bg-amber-100 text-amber-700 border-amber-200";case"Behind":return"bg-rose-100 text-rose-700 border-rose-200";case"Complete":return"bg-gold text-white border-gold";default:return"bg-stone-100 text-stone-600 border-stone-200"}},ut=e=>{switch(e){case"Reviewed":return"text-emerald-700";case"Needs info":return"text-rose-700";default:return"text-amber-700"}},pt=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 2l2.5 6 6 2.5-6 2.5-2.5 6-2.5-6L3.5 10.5 9.5 8z"}));const Z=({size:e=22})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},React.createElement("path",{d:"M12 2.8l2.7 5.7 6.3.9-4.5 4.4 1.1 6.2L12 17.8 6.4 20l1.1-6.2-4.5-4.4 6.3-.9L12 2.8z"}));const Qe=({size:e=20})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M19 12H5"}),React.createElement("path",{d:"M11 5l-7 7 7 7"}));const mt=({value:e})=>React.createElement("div",{className:"w-full bg-stone-100 rounded-full h-3 overflow-hidden"},React.createElement("div",{className:"h-full bg-clay transition-all",style:{width:`${Math.min(Math.max(e,0),100)}%`}})),gt=({status:e})=>React.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${ct(e)}`},e);const vt=({update:e,onReviewSave:t})=>{const[a,u]=x(e.reviewStatus||"Pending"),[m,n]=x(e.reviewNotes||"");return React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},xe(e.date)),React.createElement("h4",{className:"font-display text-lg text-ink mt-1"},e.summary||"Update"),React.createElement("p",{className:"text-sm text-stone-600"},"Submitted by ",e.author||"Team member")),React.createElement("div",{className:`text-xs font-semibold ${ut(a)}`},a)),e.details&&React.createElement("p",{className:"text-sm text-stone-700 mt-3 whitespace-pre-wrap"},e.details),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-stone-600 mt-4"},React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Blockers"),React.createElement("div",null,e.blockers||"None noted")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Next steps"),React.createElement("div",null,e.nextSteps||"No next steps yet")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Progress"),React.createElement("div",null,typeof e.progress=="number"?`${Math.round(e.progress)}%`:"Not shared"))),e.links&&React.createElement("div",{className:"mt-3 text-xs text-gold"},React.createElement("a",{href:e.links,target:"_blank",rel:"noreferrer",className:"underline"},"View supporting link")),React.createElement("div",{className:"mt-4 pt-4 border-t border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champion review"),React.createElement("div",{className:"flex flex-col md:flex-row md:items-center gap-3 mt-2"},React.createElement("select",{value:a,onChange:i=>u(i.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white text-sm"},nt.map(i=>React.createElement("option",{key:i,value:i},i))),React.createElement("input",{type:"text",value:m,onChange:i=>n(i.target.value),placeholder:"Review notes",className:"flex-1 px-3 py-2 border border-stone-200 rounded-lg text-sm"}),React.createElement("button",{onClick:()=>t(e.id,a,m),className:"px-4 py-2 bg-gold text-white rounded-lg text-sm"},"Save review"))))},xt=({initiative:e,onSubmit:t})=>{const[a,u]=x(""),[m,n]=x(""),[i,D]=x(""),[l,N]=x(""),[d,f]=x(""),[F,E]=x(e.progress||0),[M,G]=x("");return React.createElement("form",{onSubmit:s=>{s.preventDefault();const r={id:Ve(),date:new Date().toISOString(),author:a,summary:m,details:i,blockers:l,nextSteps:d,progress:Number(F)||0,links:M,reviewStatus:"Pending",reviewNotes:""};t(r),u(""),n(""),D(""),N(""),f(""),E(e.progress||0),G("")},className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h3",{className:"font-display text-xl"},"Submit progress update"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board members")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Your name"),React.createElement("input",{type:"text",value:a,onChange:s=>u(s.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Name or team",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Update headline"),React.createElement("input",{type:"text",value:m,onChange:s=>n(s.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Short summary",required:!0})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Details"),React.createElement("textarea",{value:i,onChange:s=>D(s.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"What changed? What decisions were made?"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Blockers"),React.createElement("input",{type:"text",value:l,onChange:s=>N(s.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Risks or constraints"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next steps"),React.createElement("input",{type:"text",value:d,onChange:s=>f(s.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Immediate actions"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Updated progress"),React.createElement("select",{value:F,onChange:s=>E(s.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},Ge.map(s=>React.createElement("option",{key:s,value:s},s,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Supporting link"),React.createElement("input",{type:"url",value:M,onChange:s=>G(s.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"https://"}))),React.createElement("div",{className:"mt-4 flex items-center justify-end"},React.createElement("button",{type:"submit",className:"px-5 py-2 bg-clay text-white rounded-lg"},"Submit update")))},ht=({initiative:e,onSave:t,onCancel:a,isSaving:u})=>{const[m,n]=x(()=>({title:(e==null?void 0:e.title)||"",focusArea:(e==null?void 0:e.focusArea)||"",description:(e==null?void 0:e.description)||"",owner:(e==null?void 0:e.owner)||"",coChampions:(e==null?void 0:e.coChampions)||"",status:(e==null?void 0:e.status)||_[0],progress:(e==null?void 0:e.progress)||0,targetDate:(e==null?void 0:e.targetDate)||"",successMetrics:(e==null?void 0:e.successMetrics)||"",threeYearVision:(e==null?void 0:e.threeYearVision)||"",annualGoals:(e==null?void 0:e.annualGoals)||"",notes:(e==null?void 0:e.notes)||""})),i=(l,N)=>{n(d=>S(y({},d),{[l]:N}))};return React.createElement("form",{onSubmit:l=>{l.preventDefault();const N=S(y(y({},e),m),{progress:Number(m.progress)||0,updates:(e==null?void 0:e.updates)||[]});t(N)},className:"bg-white rounded-2xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl"},e?"Edit initiative":"Add initiative"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board leaders")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-5"},React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Initiative title"),React.createElement("input",{type:"text",value:m.title,onChange:l=>i("title",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Focus area"),React.createElement("select",{value:m.focusArea,onChange:l=>i("focusArea",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},React.createElement("option",{value:""},"Select focus area"),W.map(l=>React.createElement("option",{key:l,value:l},l)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("input",{type:"text",value:m.owner,onChange:l=>i("owner",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Lead or team"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Description"),React.createElement("textarea",{value:m.description,onChange:l=>i("description",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("input",{type:"text",value:m.coChampions,onChange:l=>i("coChampions",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Names or roles"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Status"),React.createElement("select",{value:m.status,onChange:l=>i("status",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},_.map(l=>React.createElement("option",{key:l,value:l},l)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Progress"),React.createElement("select",{value:m.progress,onChange:l=>i("progress",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},Ge.map(l=>React.createElement("option",{key:l,value:l},l,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("input",{type:"date",value:m.targetDate,onChange:l=>i("targetDate",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("input",{type:"text",value:m.successMetrics,onChange:l=>i("successMetrics",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"What does success look like?"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("textarea",{value:m.threeYearVision,onChange:l=>i("threeYearVision",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Describe what success looks like in three years."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("textarea",{value:m.annualGoals,onChange:l=>i("annualGoals",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"List the annual goals that move this forward."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("textarea",{value:m.notes,onChange:l=>i("notes",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]"}))),React.createElement("div",{className:"mt-6 flex items-center justify-end gap-3"},React.createElement("button",{type:"button",onClick:a,className:"px-4 py-2 border border-stone-200 rounded-lg"},"Cancel"),React.createElement("button",{type:"submit",disabled:u,className:"px-5 py-2 bg-gold text-white rounded-lg"},u?"Saving...":"Save initiative")))},Ue=()=>({focusArea:"",quarter:"",year:new Date().getFullYear().toString(),submittedDate:new Date().toISOString().slice(0,10),primaryFocus:"",goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:"",challenges:{capacity:!1,budget:!1,scheduling:!1,coordination:!1,external:!1,other:!1,otherText:"",details:""},supportNeeded:"",supportTypes:{staff:!1,marketing:!1,board:!1,funding:!1,facilities:!1,other:!1,otherText:""},nextPriorities:["","",""],finalTallyOverview:""}),bt=({onSubmitted:e,initialData:t})=>{const[a,u]=x(Ue),[m,n]=x(!1),[i,D]=x(!1),[l,N]=x([]),d=(s,r)=>{u(p=>S(y({},p),{[s]:r}))},f=(s,r,p)=>{u(k=>{const R=k.goals.map((U,j)=>j===s?S(y({},U),{[r]:p}):U);return S(y({},k),{goals:R})})},F=(s,r)=>{u(p=>S(y({},p),{challenges:S(y({},p.challenges),{[s]:r})}))},E=(s,r)=>{u(p=>S(y({},p),{supportTypes:S(y({},p.supportTypes),{[s]:r})}))},M=(s,r)=>{u(p=>{const k=p.nextPriorities.map((R,U)=>U===s?r:R);return S(y({},p),{nextPriorities:k})})};J(()=>{t&&(u(s=>S(y(y({},Ue()),t),{challenges:y(y({},s.challenges),t.challenges||{}),supportTypes:y(y({},s.supportTypes),t.supportTypes||{})})),N(t.uploadedFiles||[]))},[t]);const G=async s=>{s.preventDefault(),D(!0);try{await h.submitQuarterlyUpdate(S(y({},a),{uploadedFiles:l})),await(e==null?void 0:e())}catch(r){console.error("Quarterly update submit failed:",r),alert("Submission failed. Please try again.")}D(!1)},b=async s=>{const r=Array.from(s.target.files||[]);if(r.length){n(!0);try{const p=await Promise.all(r.map(k=>new Promise((R,U)=>{const j=new FileReader;j.onload=async()=>{const z=String(j.result||"").split(",")[1]||"";try{const $=await h.uploadFile({filename:k.name,mimeType:k.type,data:z});R($)}catch($){U($)}},j.onerror=U,j.readAsDataURL(k)})));N(k=>[...k,...p])}catch(p){console.error("Failed to upload files:",p),alert("Failed to upload files. Please try again.")}n(!1),s.target.value=""}};return React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("h1",{className:"font-display text-3xl text-ink"},"Quarterly Strategic Area Update Form"),React.createElement("p",{className:"text-stone-600 mt-2"},"Share quarterly progress, challenges, and support needs for each focus area."),React.createElement("form",{onSubmit:G,className:"mt-6 space-y-8"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Organizational area"),React.createElement("select",{value:a.focusArea,onChange:s=>d("focusArea",s.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white",required:!0},React.createElement("option",{value:""},"Select area"),ge.map(s=>React.createElement("option",{key:s.label,value:s.label},s.label)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Quarter"),React.createElement("select",{value:a.quarter,onChange:s=>d("quarter",s.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white",required:!0},React.createElement("option",{value:""},"Select quarter"),["Q1","Q2","Q3","Final"].map(s=>React.createElement("option",{key:s,value:s},s)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Year"),React.createElement("input",{type:"text",value:a.year,onChange:s=>d("year",s.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Date submitted"),React.createElement("input",{type:"date",value:a.submittedDate,onChange:s=>d("submittedDate",s.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"}))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Primary focus this quarter"),React.createElement("textarea",{value:a.primaryFocus,onChange:s=>d("primaryFocus",s.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"Main priorities or themes."})),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Quarterly goals and status"),React.createElement("div",{className:"mt-3 space-y-4"},a.goals.map((s,r)=>React.createElement("div",{key:r,className:"grid grid-cols-1 md:grid-cols-[1.2fr_0.6fr_1fr] gap-3"},React.createElement("input",{type:"text",value:s.goal,onChange:p=>f(r,"goal",p.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:`Goal ${r+1}`}),React.createElement("select",{value:s.status,onChange:p=>f(r,"status",p.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white"},["On Track","At Risk","Off Track"].map(p=>React.createElement("option",{key:p,value:p},p))),React.createElement("input",{type:"text",value:s.summary,onChange:p=>f(r,"summary",p.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Progress summary"}))))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"What went well"),React.createElement("textarea",{value:a.wins,onChange:s=>d("wins",s.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"Milestones, events, completed projects."})),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges encountered"),React.createElement("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-stone-700"},React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.challenges.capacity,onChange:s=>F("capacity",s.target.checked)}),"Capacity or volunteer limitations"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.challenges.budget,onChange:s=>F("budget",s.target.checked)}),"Budget or funding constraints"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.challenges.scheduling,onChange:s=>F("scheduling",s.target.checked)}),"Scheduling or timing issues"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.challenges.coordination,onChange:s=>F("coordination",s.target.checked)}),"Cross-area coordination gaps"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.challenges.external,onChange:s=>F("external",s.target.checked)}),"External factors"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.challenges.other,onChange:s=>F("other",s.target.checked)}),"Other")),a.challenges.other&&React.createElement("input",{type:"text",value:a.challenges.otherText,onChange:s=>F("otherText",s.target.value),className:"mt-3 w-full px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Other challenges"}),React.createElement("textarea",{value:a.challenges.details,onChange:s=>F("details",s.target.value),className:"mt-3 w-full px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Details"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Support needed to stay on track"),React.createElement("textarea",{value:a.supportNeeded,onChange:s=>d("supportNeeded",s.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Be specific about the help needed."})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Type of support needed"),React.createElement("div",{className:"mt-2 space-y-2 text-sm text-stone-700"},React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.supportTypes.staff,onChange:s=>E("staff",s.target.checked)}),"Staff or volunteer help"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.supportTypes.marketing,onChange:s=>E("marketing",s.target.checked)}),"Marketing or communications"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.supportTypes.board,onChange:s=>E("board",s.target.checked)}),"Board guidance or decision"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.supportTypes.funding,onChange:s=>E("funding",s.target.checked)}),"Funding or fundraising support"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.supportTypes.facilities,onChange:s=>E("facilities",s.target.checked)}),"Facilities or logistics"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:a.supportTypes.other,onChange:s=>E("other",s.target.checked)}),"Other")),a.supportTypes.other&&React.createElement("input",{type:"text",value:a.supportTypes.otherText,onChange:s=>E("otherText",s.target.value),className:"mt-3 w-full px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Other support type"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Top 3 priorities for next quarter"),React.createElement("div",{className:"mt-3 space-y-2"},a.nextPriorities.map((s,r)=>React.createElement("input",{key:r,type:"text",value:s,onChange:p=>M(r,p.target.value),className:"w-full px-3 py-2 border border-stone-200 rounded-lg",placeholder:`${r+1}.`})))),a.quarter==="Final"&&React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Final tally overview"),React.createElement("textarea",{value:a.finalTallyOverview,onChange:s=>d("finalTallyOverview",s.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[140px]",placeholder:"End-of-year summary and tally overview."})),React.createElement("div",{className:"flex justify-end"},React.createElement("button",{type:"submit",className:"px-6 py-3 bg-gold text-white rounded-lg",disabled:i},i?"Submitting...":"Submit quarterly update")))))},ft=({areaLabel:e,quarter:t,review:a,onSave:u})=>{const m=r=>({statusAfterReview:(r==null?void 0:r.statusAfterReview)||"",actionsRows:dt(r==null?void 0:r.actionsAssigned),crossAreaImpacts:(r==null?void 0:r.crossAreaImpacts)||"",areasImpacted:(r==null?void 0:r.areasImpacted)||"",coordinationNeeded:(r==null?void 0:r.coordinationNeeded)||"",priorityConfirmation:(r==null?void 0:r.priorityConfirmation)||"",escalationFlag:(r==null?void 0:r.escalationFlag)||"",reviewCompletedOn:he(r==null?void 0:r.reviewCompletedOn),nextCheckInDate:he(r==null?void 0:r.nextCheckInDate)}),[n,i]=x(()=>m(a)),[D,l]=x(!1),[N,d]=x(!1);J(()=>{i(m(a))},[a,e,t]),J(()=>{d(!1)},[e,t]);const f=(r,p)=>{i(k=>S(y({},k),{[r]:p}))},F=(r,p,k)=>{i(R=>{const U=R.actionsRows.map((j,z)=>z===r?S(y({},j),{[p]:k}):j);return S(y({},R),{actionsRows:U})})},E=async()=>{l(!0);const r=n.crossAreaImpacts==="Affects another area",p={focusArea:e,quarter:t,statusAfterReview:n.statusAfterReview,actionsAssigned:je(n.actionsRows),crossAreaImpacts:n.crossAreaImpacts,areasImpacted:r?n.areasImpacted:"",coordinationNeeded:r?n.coordinationNeeded:"",priorityConfirmation:n.priorityConfirmation,escalationFlag:n.escalationFlag,reviewCompletedOn:n.reviewCompletedOn,nextCheckInDate:n.nextCheckInDate};try{await u(p)}catch(k){console.error("Failed to save review:",k),alert("Failed to save review. Please try again.")}l(!1)},M=["On track","Minor adjustments needed","Off track - intervention required"],G=["None","Affects another area"],b=["Approved","Adjusted","Replaced"],s=["No escalation needed","Requires board attention","Requires budget review","Requires policy clarification"];if(!N){const p=[{label:"Status After Review",value:n.statusAfterReview},{label:"Actions Assigned",value:je(n.actionsRows)},{label:"Cross-Area Impacts",value:n.crossAreaImpacts},{label:"Area(s) impacted",value:n.areasImpacted},{label:"Coordination needed",value:n.coordinationNeeded},{label:"Priority Confirmation (Next Quarter)",value:n.priorityConfirmation},{label:"Escalation Flag",value:n.escalationFlag},{label:"Review completed on",value:n.reviewCompletedOn},{label:"Next check-in date",value:n.nextCheckInDate}].filter(k=>k.value);return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},t," review"),React.createElement("button",{type:"button",onClick:()=>d(!0),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Edit review")),p.length===0?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No review submitted yet."):React.createElement("div",{className:"mt-4 space-y-2 text-sm text-stone-700"},p.map(k=>React.createElement("div",{key:k.label},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},k.label),React.createElement("div",{className:"whitespace-pre-wrap"},k.value)))))}return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},t," review"),React.createElement("button",{type:"button",onClick:()=>d(!1),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Close")),React.createElement("div",{className:"mt-3 space-y-5 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Status After Review"),React.createElement("div",{className:"mt-2 space-y-2"},M.map(r=>React.createElement("label",{key:r,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-status`,value:r,checked:n.statusAfterReview===r,onChange:p=>f("statusAfterReview",p.target.value),className:"accent-clay"}),React.createElement("span",null,r))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Actions Assigned"),React.createElement("div",{className:"mt-2 grid grid-cols-3 gap-2 text-xs uppercase tracking-wide text-steel"},React.createElement("span",null,"Action"),React.createElement("span",null,"Owner"),React.createElement("span",null,"Deadline")),React.createElement("div",{className:"mt-2 space-y-2"},n.actionsRows.map((r,p)=>React.createElement("div",{key:p,className:"grid grid-cols-1 md:grid-cols-3 gap-2"},React.createElement("input",{type:"text",value:r.action,onChange:k=>F(p,"action",k.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:r.owner,onChange:k=>F(p,"owner",k.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:r.deadline,onChange:k=>F(p,"deadline",k.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Cross-Area Impacts"),React.createElement("div",{className:"mt-2 space-y-2"},G.map(r=>React.createElement("label",{key:r,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-impact`,value:r,checked:n.crossAreaImpacts===r,onChange:p=>f("crossAreaImpacts",p.target.value),className:"accent-clay"}),React.createElement("span",null,r)))),n.crossAreaImpacts==="Affects another area"&&React.createElement("div",{className:"mt-3 grid grid-cols-1 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Area(s) impacted"),React.createElement("input",{type:"text",value:n.areasImpacted,onChange:r=>f("areasImpacted",r.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Coordination needed"),React.createElement("textarea",{value:n.coordinationNeeded,onChange:r=>f("coordinationNeeded",r.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[90px]"})))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Priority Confirmation (Next Quarter)"),React.createElement("div",{className:"mt-2 space-y-2"},b.map(r=>React.createElement("label",{key:r,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-priority`,value:r,checked:n.priorityConfirmation===r,onChange:p=>f("priorityConfirmation",p.target.value),className:"accent-clay"}),React.createElement("span",null,r))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Escalation Flag"),React.createElement("div",{className:"mt-2 space-y-2"},s.map(r=>React.createElement("label",{key:r,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-escalation`,value:r,checked:n.escalationFlag===r,onChange:p=>f("escalationFlag",p.target.value),className:"accent-clay"}),React.createElement("span",null,r))))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Review completed on"),React.createElement("input",{type:"date",value:n.reviewCompletedOn,onChange:r=>f("reviewCompletedOn",r.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next check-in date"),React.createElement("input",{type:"date",value:n.nextCheckInDate,onChange:r=>f("nextCheckInDate",r.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})))),React.createElement("div",{className:"mt-5 flex items-center justify-end"},React.createElement("button",{type:"button",onClick:E,disabled:D,className:"px-4 py-2 bg-clay text-white rounded-lg text-sm"},D?"Saving...":"Save review")))},yt=({focusArea:e,vision:t,onSave:a,isSaving:u})=>{const[m,n]=x(!1),[i,D]=x(t||"");return J(()=>{m||D(t||"")},[t,m]),React.createElement("div",{className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e),React.createElement("div",{className:"flex items-center gap-2 text-xs"},m?React.createElement(React.Fragment,null,React.createElement("button",{type:"button",onClick:()=>{n(!1),D(t||"")},className:"px-2 py-1 border border-stone-200 rounded-lg",disabled:u},"Cancel"),React.createElement("button",{type:"button",onClick:()=>{a(e,i),n(!1)},className:"px-2 py-1 bg-gold text-white rounded-lg",disabled:u},u?"Saving...":"Save")):React.createElement("button",{type:"button",onClick:()=>n(!0),className:"px-2 py-1 border border-stone-200 rounded-lg"},"Edit"))),m?React.createElement("textarea",{value:i,onChange:N=>D(N.target.value),className:"w-full mt-3 px-3 py-2 border border-stone-200 rounded-lg text-sm min-h-[120px]",placeholder:"Describe what success looks like in three years."}):React.createElement("div",{className:"text-sm text-stone-700 mt-2 space-y-1"},t?String(t).split(`
`).map(N=>N.trim()).filter(Boolean).map((N,d)=>React.createElement("div",{key:`${e}-vision-${d}`,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(Z,{size:12})),React.createElement("span",{className:"whitespace-pre-wrap"},N))):React.createElement("span",null,"Add a three-year vision for this focus area.")))},wt=({focusArea:e,initialGoal:t,presetCategory:a,onSave:u,onCancel:m,isSaving:n})=>{const[i,D]=x(()=>({id:(t==null?void 0:t.id)||"",focusArea:e,goalTopic:"Annual goal",annualGoals:(t==null?void 0:t.annualGoals)||"",startDate:(t==null?void 0:t.startDate)||"",dueDate:(t==null?void 0:t.dueDate)||"",progress:(t==null?void 0:t.progress)||_[0],category:(t==null?void 0:t.category)||a||"Annual goals",goalDetails:(t==null?void 0:t.goalDetails)||"",goalLead:(t==null?void 0:t.goalLead)||"",futureGoals:(t==null?void 0:t.futureGoals)||""})),l=(d,f)=>{D(F=>S(y({},F),{[d]:f}))};return React.createElement("form",{onSubmit:d=>{d.preventDefault(),u(S(y({},i),{goalTopic:"Annual goal",annualGoalsItems:[]}))},className:"mt-4 bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goal"),React.createElement("input",{type:"text",value:i.annualGoals,onChange:d=>l("annualGoals",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("input",{type:"text",value:i.goalLead,onChange:d=>l("goalLead",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("textarea",{value:i.goalDetails,onChange:d=>l("goalDetails",d.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[60px]",placeholder:"Add details, notes, or key steps."})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Due date"),React.createElement("input",{type:"date",value:he(i.dueDate),onChange:d=>l("dueDate",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Progress"),React.createElement("select",{value:i.progress,onChange:d=>l("progress",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},_.map(d=>React.createElement("option",{key:d,value:d},d))))),React.createElement("div",{className:"mt-4 flex items-center justify-end gap-2"},React.createElement("button",{type:"button",onClick:m,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm",disabled:n},"Cancel"),React.createElement("button",{type:"submit",className:"px-4 py-2 bg-gold text-white rounded-lg text-sm",disabled:n},n?"Saving...":"Save goal")))},$e=({focusArea:e,goals:t,onSaveGoal:a,onDeleteGoal:u,isSaving:m})=>{const[n,i]=x(null),[D,l]=x(!1),[N,d]=x("Annual goals"),f=se(()=>t.filter(b=>!b.category||b.category==="Annual goals"||b.category==="Goals"),[t]),F=se(()=>t.filter(b=>b.category==="Future Goals"),[t]),E=b=>{l(!1),i(b),d(b.category||"Annual goals")},M=b=>{i(null),l(!0),d(b)},G=b=>{a(b),i(null),l(!1)};return React.createElement("div",{className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},React.createElement("div",{className:"font-display text-xl text-ink"},e),React.createElement("div",{className:"mt-4"},React.createElement("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-steel"},React.createElement("span",null,"Annual goals"),React.createElement("button",{type:"button",onClick:()=>M("Annual goals"),className:"text-xs px-2 py-1 border border-stone-200 rounded-lg normal-case"},"Add goal")),f.length===0?React.createElement("div",{className:"mt-3 text-sm text-stone-600"},"No annual goals yet."):React.createElement("div",{className:"mt-3 space-y-3"},f.map(b=>React.createElement("div",{key:b.id,className:"border border-stone-100 rounded-xl p-3 bg-white"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(Z,{size:12})),React.createElement("div",{className:"font-semibold text-ink"},b.annualGoals||"Untitled goal")),b.goalDetails&&React.createElement("div",{className:"text-xs text-stone-500 mt-2 whitespace-pre-wrap"},b.goalDetails)),React.createElement("button",{type:"button",onClick:()=>E(b),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")),React.createElement("div",{className:"mt-3 flex items-center justify-between text-xs text-stone-500"},React.createElement("div",null,b.dueDate?`Due: ${xe(b.dueDate)}`:""),React.createElement("div",{className:"text-stone-600"},b.progress||_[0])))))),React.createElement("div",{className:"mt-6 border-t border-stone-200 pt-4"},React.createElement("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-steel"},React.createElement("span",null,"Future goals"),React.createElement("button",{type:"button",onClick:()=>M("Future Goals"),className:"text-xs px-2 py-1 border border-stone-200 rounded-lg normal-case"},"Add goal")),F.length===0?React.createElement("div",{className:"mt-3 text-sm text-stone-600"},"No future goals yet."):React.createElement("div",{className:"mt-3 space-y-3"},F.map(b=>React.createElement("div",{key:b.id,className:"border border-stone-100 rounded-xl p-3 bg-white"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(Z,{size:12})),React.createElement("div",{className:"font-semibold text-ink"},b.annualGoals||"Untitled goal")),b.goalDetails&&React.createElement("div",{className:"text-xs text-stone-500 mt-2 whitespace-pre-wrap"},b.goalDetails)),React.createElement("button",{type:"button",onClick:()=>E(b),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")),React.createElement("div",{className:"mt-3 flex items-center justify-between text-xs text-stone-500"},React.createElement("div",null,b.dueDate?`Due: ${xe(b.dueDate)}`:""),React.createElement("div",{className:"text-stone-600"},b.progress||_[0])))))),(D||n)&&React.createElement(wt,{focusArea:e,initialGoal:n,presetCategory:N,onSave:G,onCancel:()=>{l(!1),i(null)},isSaving:m}))},Nt=({goals:e,onSaveGoal:t,onDeleteGoal:a,isSaving:u,focusFilter:m})=>{const n=m?W.filter(i=>i===m):W;return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"flex items-center justify-between mb-6"},React.createElement("div",null,React.createElement("h2",{className:"font-display text-3xl text-ink"},"Focus areas"),React.createElement("p",{className:"text-stone-600 mt-1"},"Track goals by strategic focus area."))),React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},n.map(i=>React.createElement($e,{key:i,focusArea:i,goals:e.filter(D=>D.focusArea===i),onSaveGoal:t,onDeleteGoal:a,isSaving:u}))))},kt=({initiatives:e,metrics:t,visionStatements:a,onSaveVision:u,isSavingVision:m})=>{const[n,i]=x(null),D=e.length?Math.round(e.reduce((d,f)=>d+(Number(f.progress)||0),0)/e.length):0,l=W.map(d=>({focusArea:d,count:e.filter(f=>f.focusArea===d).length})),N=W.map(d=>{const f=a==null?void 0:a.find(E=>E.focusArea===d),F=e.find(E=>E.focusArea===d&&E.threeYearVision);return{focusArea:d,vision:(f==null?void 0:f.threeYearVision)||(F==null?void 0:F.threeYearVision)||""}});return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6"},React.createElement("div",{className:"glass rounded-3xl p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-center gap-3 text-gold"},React.createElement(pt,{size:28}),React.createElement("span",{className:"text-xs uppercase tracking-wide"},"Mission and vision")),React.createElement("h1",{className:"font-display text-xl md:text-2xl text-ink mt-4"},"Mission: To revitalize North Star House as a cultural gathering place that connects people of all ages through the arts, theater, literature, history, and music\u2014fostering creativity, learning, and community for generations to come."),React.createElement("p",{className:"text-stone-600 mt-2 text-xs md:text-sm"},"Vision: [Add your vision statement here]")),React.createElement("div",{className:"grid grid-cols-2 gap-4"},[{label:"Volunteers",value:ue(t==null?void 0:t.volunteersCount)},{label:"Events booked",value:ue(t==null?void 0:t.eventsCount)},{label:"Donation total",value:Le(t==null?void 0:t.donationsTotal)},{label:"Sponsors",value:ue(t==null?void 0:t.sponsorsCount)}].map(d=>React.createElement("div",{key:d.label,className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},d.label),React.createElement("div",{className:"font-display text-3xl text-ink mt-3"},d.value))))),React.createElement("div",{className:"mt-8"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl text-ink"},"Three-year vision"),React.createElement("span",{className:"text-xs uppercase tracking-wide text-steel"},"By focus area")),React.createElement("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},N.map(d=>React.createElement(yt,{key:d.focusArea,focusArea:d.focusArea,vision:d.vision,onSave:u,isSaving:m})))),React.createElement("div",{className:"mt-8"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl text-ink"},"Quarterly focus"),React.createElement("span",{className:"text-xs uppercase tracking-wide text-steel"},"Tap to expand")),React.createElement("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},["Q1","Q2","Q3","Final"].map(d=>{const f=n===d;return React.createElement("div",{key:d,className:"bg-white rounded-2xl border border-stone-100 card-shadow"},React.createElement("button",{type:"button",onClick:()=>i(f?null:d),className:"w-full flex items-center justify-between px-5 py-4 text-left"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Quarter"),React.createElement("div",{className:"font-display text-xl text-ink"},d)),React.createElement("span",{className:"text-sm text-gold"},f?"Close":"Open")),f&&React.createElement("div",{className:"px-5 pb-5 text-sm text-stone-700"},"Add quarterly priorities, milestones, and key outcomes here."))}))))};const Ct=({initiative:e,onBack:t,onEdit:a,onSubmitUpdate:u,onReviewUpdate:m})=>{const n=it(e.updates||[]);return React.createElement("div",{className:"max-w-5xl mx-auto fade-up"},React.createElement("button",{onClick:t,className:"flex items-center gap-2 text-sm text-gold mb-4"},React.createElement(Qe,{size:18})," Back to initiatives"),React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e.focusArea),React.createElement("h1",{className:"font-display text-3xl text-ink mt-2"},e.title),React.createElement("p",{className:"text-stone-600 mt-2"},e.description)),React.createElement("div",{className:"flex flex-col items-start gap-3"},React.createElement(gt,{status:e.status}),React.createElement("button",{onClick:a,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm"},"Edit initiative"))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.owner||"Unassigned")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.coChampions||"Not listed")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.targetDate||"TBD"))),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between text-xs text-steel mb-2"},React.createElement("span",null,"Progress"),React.createElement("span",null,Math.round(e.progress),"%")),React.createElement(mt,{value:e.progress})),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.successMetrics||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.notes||"No notes yet"))),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.threeYearVision||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.annualGoals||"Not defined")))),React.createElement("div",{className:"mt-6"},React.createElement(xt,{initiative:e,onSubmit:i=>u(e,i)})),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"font-display text-2xl"},"Update log"),React.createElement("span",{className:"text-xs text-steel"},n.length," updates")),n.length===0?React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-6 text-stone-600"},"No updates yet. Submit the first update to start the log."):React.createElement("div",{className:"grid grid-cols-1 gap-4"},n.map(i=>React.createElement(vt,{key:i.id,update:i,onReviewSave:(D,l,N)=>m(e,D,l,N)})))))},St=()=>{const[e,t]=x([]),[a,u]=x("dashboard"),[m,n]=x(null),[i,D]=x(null),[l,N]=x(!0),[d,f]=x(!1),[F,E]=x(!1),[M,G]=x({donationsTotal:null,volunteersCount:null,eventsCount:null,sponsorsCount:null}),[b,s]=x([]),[r,p]=x(!1),[k,R]=x([]),[U,j]=x(!1),[z,$]=x(null),[Be,be]=x(!1),[K,fe]=x(null),re={Construction:"House and Grounds Development",Grounds:"House and Grounds Development",Interiors:"House and Grounds Development",Fundraising:"Fund Development",Marketing:"Fund Development",Venue:"Fund Development",Docents:"Programs and Events",Events:"Programs and Events"},[_e,ye]=x({Construction:null,Grounds:null,Interiors:null,Docents:null,Fundraising:null,Events:null,Marketing:null,Venue:null}),[X,oe]=x([]),[ze,we]=x(null),V=ge.reduce((o,c)=>(o[c.key]={label:c.label,key:c.sheet},o),{}),ne=se(()=>e.find(o=>o.id===m)||null,[e,m]),ee=se(()=>e.find(o=>o.id===i)||null,[e,i]);J(()=>{Ne()},[]);const Ne=async({useCache:o=!0}={})=>{var Se,Ae;if(!me){const B=pe();t(((B==null?void 0:B.objects)||[]).map(Q)),E(!1),R(lt),N(!1);return}const c=o?pe():null,w=c&&Date.now()-c.updatedAt<ot,v=o?q(Oe):null,g=o?q(Pe):null,A=o?q(ie):null,C=o?q(ce):null,I=o?q(ae):null;(Se=c==null?void 0:c.objects)!=null&&Se.length?(t(c.objects.map(Q)),E(h.isConfigured()),N(!1)):N(!0),v&&G(v),g&&ye(g),A&&oe(A),C&&s(C),I&&R(I);try{const De=(await h.fetchAll()||[]).map(Q);t(De),E(h.isConfigured()),H(De)}catch(B){console.error("Failed to load data:",B),(Ae=c==null?void 0:c.objects)!=null&&Ae.length||t(ve.map(Q))}N(!1);const T=await h.fetchMetrics();T&&(G(T),L(Oe,T));const P=await h.fetchSectionSnapshots();P&&(ye(P),L(Pe,P));const Y=await h.fetchQuarterlyUpdates();Y.length&&(oe(Y),L(ie,Y));const le=await h.fetchVisionStatements();le.length&&(s(le),L(ce,le));const de=await h.fetchFocusAreaGoals();de.length&&(R(de),L(ae,de))},Dt=o=>{n(o),u("detail"),window.scrollTo(0,0)},Ft=()=>{D(null),u("add"),window.scrollTo(0,0)},Ye=o=>{D(o.id),u("edit"),window.scrollTo(0,0)},He=async o=>{f(!0);try{if(ee){const c=await h.update(S(y({},o),{updates:o.updates||[]}));t(w=>{const v=w.map(g=>g.id===c.id?Q(c):g);return H(v),v}),n(c.id),u("detail")}else{const c=await h.create(S(y({},o),{id:o.id||Ve(),updates:o.updates||[]}));t(w=>{const v=[...w,Q(c)];return H(v),v}),n(c.id),u("detail")}}catch(c){console.error("Failed to save initiative:",c),alert("Failed to save. Please try again.")}f(!1)},qe=async(o,c)=>{const w=[c,...o.updates||[]],v=S(y({},o),{updates:w,progress:c.progress,lastUpdateAt:c.date});try{await h.update(v),t(g=>{const A=g.map(C=>C.id===o.id?Q(v):C);return H(A),A})}catch(g){console.error("Failed to submit update:",g),alert("Failed to submit update. Please try again.")}},Je=async(o,c,w,v)=>{const g=(o.updates||[]).map(C=>C.id===c?S(y({},C),{reviewStatus:w,reviewNotes:v}):C),A=S(y({},o),{updates:g});try{await h.update(A),t(C=>{const I=C.map(T=>T.id===o.id?Q(A):T);return H(I),I})}catch(C){console.error("Failed to save review:",C),alert("Failed to save review. Please try again.")}},We=async o=>{const g=o,{focusArea:c,quarter:w}=g,v=Ie(g,["focusArea","quarter"]);await h.submitReviewUpdate(o),oe(A=>{const C=A.findIndex(P=>P.focusArea===c&&P.quarter===w),I=C>=0?S(y({},A[C]),{payload:S(y({},A[C].payload||{}),{review:v})}):{focusArea:c,quarter:w,submittedDate:"",payload:{review:v}},T=C>=0?A.map((P,Y)=>Y===C?I:P):[...A,I];return L(ie,T),T})},Ze=(o,c)=>{const v=X.filter(I=>I.focusArea===o&&I.quarter===c).sort((I,T)=>new Date(T.submittedDate||T.createdAt)-new Date(I.submittedDate||I.createdAt))[0],g=(v==null?void 0:v.payload)||{},A=g.year||String(new Date().getFullYear()),C=g.submittedDate||(v==null?void 0:v.submittedDate)||new Date().toISOString().slice(0,10);we({focusArea:o,quarter:c,year:A,submittedDate:C,primaryFocus:g.primaryFocus||"",goals:g.goals&&g.goals.length?g.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:g.wins||"",challenges:g.challenges||{},supportNeeded:g.supportNeeded||"",supportTypes:g.supportTypes||{},nextPriorities:g.nextPriorities||["","",""],finalTallyOverview:g.finalTallyOverview||""}),u("quarterly"),window.scrollTo(0,0)},Ke=async()=>{await Ne({useCache:!1}),we(null),u("dashboard")},Xe=o=>{const c=re[o]||o;fe(c),be(!0)},et=async(o,c)=>{p(!0);try{const w=await h.updateVisionStatement({focusArea:o,threeYearVision:c});s(v=>{const g=v.findIndex(C=>C.focusArea===o),A=g>=0?v.map((C,I)=>I===g?w:C):[...v,w];return L(ce,A),A})}catch(w){console.error("Failed to save vision statement:",w),alert("Failed to save. Please try again.")}p(!1)},ke=async o=>{j(!0);try{const c=await h.updateFocusAreaGoal(o);R(w=>{const v=w.findIndex(A=>A.id===c.id),g=v>=0?w.map((A,C)=>C===v?c:A):[...w,c];return L(ae,g),g})}catch(c){console.error("Failed to save focus goal:",c),alert("Failed to save. Please try again.")}j(!1)},Ce=async o=>{j(!0);try{await h.deleteFocusAreaGoal(o),R(c=>{const w=c.filter(v=>v.id!==o);return L(ae,w),w})}catch(c){console.error("Failed to delete focus goal:",c),alert("Failed to delete. Please try again.")}j(!1)},tt=a==="detail"&&ne;return React.createElement("div",{className:"min-h-screen"},React.createElement("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-stone-100"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},React.createElement("div",{className:"flex items-center justify-between h-16"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"w-10 h-10 rounded-full bg-gold text-white flex items-center justify-center shadow-sm"},React.createElement(Z,{size:18})),React.createElement("div",null,React.createElement("div",{className:"font-display text-lg text-ink"},"North Star Strategic Plan"),React.createElement("div",{className:"text-xs text-steel"},"Board progress tracker"))),React.createElement("div",{className:"flex items-center gap-2 text-sm flex-wrap"},React.createElement("button",{onClick:()=>{u("dashboard"),n(null),$(null)},className:`px-3 py-2 rounded-lg ${a==="dashboard"?"bg-stone-100":""}`},"Overview"),React.createElement("button",{onClick:()=>{u("quarterly"),n(null),$(null)},className:`px-3 py-2 rounded-lg ${a==="quarterly"?"bg-stone-100":""}`},"Quarterly Form"),React.createElement("span",{className:`text-xs ${F?"text-emerald-600":"text-steel"}`},F?"Synced":"Local"))),React.createElement("div",{className:"pb-4"},React.createElement("div",{className:"flex flex-wrap gap-3"},React.createElement("button",{onClick:()=>{u("focus"),n(null),$(null)},className:`tab-button text-sm ${a==="focus"?"active":""}`},"Focus Areas"),ge.map(o=>React.createElement("button",{key:o.key,onClick:()=>{u(o.key),n(null)},className:`tab-button text-sm ${a===o.key?"active":""}`},o.label)))))),React.createElement("main",{className:"px-4 sm:px-6 lg:px-8 py-8"},l?React.createElement("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl border border-stone-100 p-8 text-center text-stone-600"},"Loading strategic plan data..."):React.createElement(React.Fragment,null,a==="dashboard"&&React.createElement(kt,{initiatives:e,metrics:M,visionStatements:b,onSaveVision:et,isSavingVision:r}),a==="focus"&&React.createElement(Nt,{goals:k,onSaveGoal:ke,onDeleteGoal:Ce,isSaving:U,focusFilter:z}),a==="quarterly"&&React.createElement(bt,{onSubmitted:Ke,initialData:ze}),["construction","grounds","interiors","docents","fund","events","marketing","venue"].includes(a)&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("h2",{className:"font-display text-3xl text-ink"},V[a].label),React.createElement("button",{type:"button",onClick:()=>Xe(V[a].label),className:"px-3 py-2 border border-stone-200 rounded-lg text-sm"},`Focus area: ${re[V[a].label]||V[a].label}`)),React.createElement("p",{className:"text-stone-600 mt-2"},"Beginning 2026 snapshot."),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},(()=>{const o=_e[V[a].key];return React.createElement(React.Fragment,null,React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Lead name"),React.createElement("div",{className:"text-lg text-ink mt-2"},(o==null?void 0:o.lead)||"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Budget"),React.createElement("div",{className:"text-lg text-ink mt-2"},o!=null&&o.budget?Le(o.budget):"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Volunteers (2026)"),React.createElement("div",{className:"text-lg text-ink mt-2"},(o==null?void 0:o.volunteers)||"N/A")))})())),Be&&K===re[V[a].label]&&React.createElement("div",{className:"mt-6 bg-white rounded-3xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"font-display text-2xl text-ink"},K),React.createElement("button",{type:"button",onClick:()=>{be(!1),fe(null)},className:"px-3 py-2 border border-stone-200 rounded-lg text-sm"},"Close")),React.createElement("div",{className:"mt-4"},React.createElement($e,{focusArea:K,goals:k.filter(o=>o.focusArea===K),onSaveGoal:ke,onDeleteGoal:Ce,isSaving:U}))),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},["Q1","Q2","Q3"].map(o=>{var I;const c=V[a].label,v=X.filter(T=>T.focusArea===c&&T.quarter===o).sort((T,P)=>new Date(P.submittedDate||P.createdAt)-new Date(T.submittedDate||T.createdAt))[0],g=(v==null?void 0:v.payload)||{},A=g.goals&&g.goals.length?g.goals:[{},{},{}],C=g.nextPriorities&&g.nextPriorities.length?g.nextPriorities:["","",""];return React.createElement("div",{key:o,className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},o),React.createElement("div",{className:"text-xs text-steel"},(v==null?void 0:v.submittedDate)||"No submission yet")),React.createElement("button",{type:"button",onClick:()=>Ze(c,o),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")),React.createElement("div",{className:"mt-3 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Primary focus"),React.createElement("div",null,g.primaryFocus||"")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Goals"),React.createElement("div",{className:"space-y-1"},A.map((T,P)=>React.createElement("div",{key:P,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(Z,{size:12})),React.createElement("div",null,React.createElement("strong",null,T.goal||`Goal ${P+1}`),T.status?` - ${T.status}`:"",T.summary?` (${T.summary})`:""))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"What went well"),React.createElement("div",null,g.wins||"")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges"),React.createElement("div",null,((I=g.challenges)==null?void 0:I.details)||"")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support needed"),React.createElement("div",null,g.supportNeeded||"")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Next priorities"),React.createElement("div",{className:"space-y-1"},C.map((T,P)=>React.createElement("div",{key:P},T)))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Decisions needed"),React.createElement("div",null,g.decisionsNeeded||""))))})),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},["Q1","Q2","Q3"].map(o=>{var g;const c=V[a].label,w=X.find(A=>A.focusArea===c&&A.quarter===o),v=(g=w==null?void 0:w.payload)==null?void 0:g.review;return React.createElement(ft,{key:o,areaLabel:c,quarter:o,review:v,onSave:We})})),React.createElement("div",{className:"mt-6 bg-white rounded-3xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Final tally overview"),React.createElement("div",{className:"mt-3 text-sm text-stone-700"},(()=>{var w;const o=V[a].label,c=X.find(v=>v.focusArea===o&&v.quarter==="Final");return((w=c==null?void 0:c.payload)==null?void 0:w.finalTallyOverview)||"No final tally submitted yet."})()))),tt&&React.createElement(Ct,{initiative:ne,onBack:()=>u("list"),onEdit:()=>Ye(ne),onSubmitUpdate:qe,onReviewUpdate:Je}),(a==="add"||a==="edit")&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("button",{onClick:()=>u(ee?"detail":"list"),className:"flex items-center gap-2 text-sm text-gold mb-4"},React.createElement(Qe,{size:18})," Cancel"),React.createElement(ht,{initiative:ee,onSave:He,onCancel:()=>u(ee?"detail":"list"),isSaving:d})))),React.createElement("footer",{className:"mt-12 pb-10 text-center text-xs text-steel"},"Built for shared accountability and board-level clarity."))},At=ReactDOM.createRoot(document.getElementById("root"));At.render(React.createElement(St,null));})();
