(()=>{var lt=Object.defineProperty,dt=Object.defineProperties;var it=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var Qe=(e,t,o)=>t in e?lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,f=(e,t)=>{for(var o in t||(t={}))Me.call(t,o)&&Qe(e,o,t[o]);if(oe)for(var o of oe(t))je.call(t,o)&&Qe(e,o,t[o]);return e},w=(e,t)=>dt(e,it(t));var Ue=(e,t)=>{var o={};for(var p in e)Me.call(e,p)&&t.indexOf(p)<0&&(o[p]=e[p]);if(e!=null&&oe)for(var p of oe(e))t.indexOf(p)<0&&je.call(e,p)&&(o[p]=e[p]);return o};const{useState:x,useEffect:le,useMemo:de}=React,_e="nsh-strategy-cache-v1",Ge="nsh-strategy-metrics-cache-v1",Ve="nsh-strategy-sections-cache-v1",be="nsh-strategy-quarterly-cache-v1",fe="nsh-strategy-vision-cache-v1",ne="nsh-strategy-focus-goals-cache-v1",ct=300*1e3,we=()=>{try{const e=localStorage.getItem(_e);if(!e)return null;const t=JSON.parse(e);return!t||!Array.isArray(t.objects)?null:t}catch(e){return console.warn("Failed to read cache:",e),null}},X=e=>{try{localStorage.setItem(_e,JSON.stringify({objects:e,updatedAt:Date.now()}))}catch(t){console.warn("Failed to write cache:",t)}},Ne=!0,R="https://script.google.com/macros/s/AKfycbwceVcGLuTCKp_GjlzYERa1OyhUcQQw6jnKhG2cmn4_AgSZjPEE8CWaO698S-lEtlk1/exec",Le=R,te=["Fund Development","House and Grounds Development","Programs and Events","Organizational Development"],ke=[{key:"construction",label:"Construction",sheet:"Construction"},{key:"grounds",label:"Grounds",sheet:"Grounds"},{key:"interiors",label:"Interiors",sheet:"Interiors"},{key:"docents",label:"Docents",sheet:"Docents"},{key:"fund",label:"Fundraising",sheet:"Fundraising"},{key:"events",label:"Events",sheet:"Events"},{key:"marketing",label:"Marketing",sheet:"Marketing"},{key:"venue",label:"Venue",sheet:"Venue"}],W=["Not started","On track","At risk","Behind","Complete"],ut=["Pending","Reviewed","Needs info"],Ye=Array.from({length:11},(e,t)=>t*10),Ce=[{id:"1",title:"Launch community listening series",focusArea:"Programs and Events",description:"Host quarterly listening sessions to guide program priorities and gather feedback.",owner:"Community Outreach Lead",coChampions:"Program Director, Board Liaison",status:"On track",progress:60,targetDate:"2026-03-31",successMetrics:"4 sessions held, 120 participants, report delivered to board",threeYearVision:"We will have a clear set of documented programs and services that reinforce the House's role as a cultural historical gathering center and are well-organized, financially sustainable, and have clearly communicated teams of staff/volunteers that run each of the programs/services.",annualGoals:"Host 4 sessions, publish summary report, build annual outreach playbook.",notes:"Align session topics with strategic planning themes.",lastUpdateAt:"2026-01-12T18:30:00.000Z",updates:[{id:"up-1",date:"2026-01-12T18:30:00.000Z",author:"Community Outreach Lead",summary:"Secured first three locations",details:"Libraries and partner agencies confirmed for January and February sessions.",blockers:"Waiting on translation support budget confirmation.",nextSteps:"Finalize outreach materials and RSVP form.",progress:60,links:"https://example.com/agenda",reviewStatus:"Pending",reviewNotes:""}],createdAt:"2025-11-15T12:00:00.000Z",updatedAt:"2026-01-12T18:30:00.000Z"},{id:"2",title:"Build leadership succession pipeline",focusArea:"Organizational Development",description:"Create leadership development plan and identify emerging leaders for key roles.",owner:"Executive Director",coChampions:"Board Chair, HR Committee",status:"At risk",progress:35,targetDate:"2026-09-30",successMetrics:"Pipeline matrix completed, two leaders in shadow roles",threeYearVision:"A smooth-running organization that ensures the success of the Conservancy.",annualGoals:"Finalize competencies, identify 2 shadow roles, launch mentoring cadence.",notes:"Need agreement on competencies and mentorship structure.",lastUpdateAt:"2025-12-18T17:05:00.000Z",updates:[{id:"up-2",date:"2025-12-18T17:05:00.000Z",author:"Executive Director",summary:"Drafted role competency framework",details:"Outlined core competencies for leadership roles; awaiting committee review.",blockers:"Committee schedule conflict in January.",nextSteps:"Hold workshop to finalize framework.",progress:35,links:"",reviewStatus:"Needs info",reviewNotes:"Please add timeline impact for delayed workshop."}],createdAt:"2025-10-01T09:00:00.000Z",updatedAt:"2025-12-18T17:05:00.000Z"},{id:"3",title:"Complete house restoration and grounds plan",focusArea:"House and Grounds Development",description:"Finish the first floor renovation, restore the second floor with a volunteer crew, install fire suppression, and clarify the grounds plan.",owner:"Facilities Lead",coChampions:"Volunteer Crew Lead, Board Liaison",status:"Not started",progress:0,targetDate:"2028-12-31",successMetrics:"First floor renovated, second floor restored, fire suppression installed, grounds plan approved.",threeYearVision:"Complete the first floor renovation. The 2nd floor of the house will be restored by a clearly-led and well-organized volunteer crew. A fire suppression system will be installed. Plans for the rest of the grounds will have been clarified.",annualGoals:"Confirm scope, recruit volunteer crew, secure fire suppression bids, draft grounds plan options.",notes:"",lastUpdateAt:"2026-01-15T12:00:00.000Z",updates:[],createdAt:"2026-01-01T12:00:00.000Z",updatedAt:"2026-01-15T12:00:00.000Z"},{id:"4",title:"Staff and organize fund development plan",focusArea:"Fund Development",description:"Build staffing, systems, and campaign execution to accelerate fundraising.",owner:"Development Director",coChampions:"Board Treasurer, Capital Campaign Chair",status:"Not started",progress:0,targetDate:"2028-12-31",successMetrics:"Fund development staffing in place, $1M raised toward capital campaign.",threeYearVision:"Over the next three years we will have successfully staffed and organized our fund development plans and raised $1M of the $2M capital campaign.",annualGoals:"Hire development lead, finalize campaign plan, raise initial $250k.",notes:"",lastUpdateAt:"2026-01-15T12:00:00.000Z",updates:[],createdAt:"2026-01-01T12:00:00.000Z",updatedAt:"2026-01-15T12:00:00.000Z"}],pt=[{id:"fg-1",focusArea:"Fund Development",goalTopic:"Annual goal",annualGoals:"Document the Conservancy\u2019s fund development plan.",annualGoalsItems:[],goalDetails:"",goalLead:"",futureGoals:"",startDate:"",dueDate:"",goalChampions:"Jeff, Haley",goalTeamMembers:"",progress:"Not Started",category:""}],v={isConfigured:()=>Ne&&R&&R.length>0,postJson:async(e,t)=>{const o=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(t)});if(!o.ok)throw new Error("Request failed");return o.json()},fetchAll:async()=>{if(!Ne){const e=we();return(e==null?void 0:e.objects)||[]}if(!v.isConfigured())return console.log("Google Sheets not configured, using sample data"),Ce;try{const e=await fetch(`${R}?action=getAll`);if(!e.ok)throw new Error("Failed to fetch data");return(await e.json()).objects||[]}catch(e){return console.error("Error fetching from Google Sheets:",e),Ce}},create:async e=>{if(!v.isConfigured())return console.log("Google Sheets not configured, saving locally only"),w(f({},e),{id:Date.now().toString()});try{return(await v.postJson(R,{action:"create",object:e})).result||w(f({},e),{id:Date.now().toString()})}catch(t){return console.error("Error creating in Google Sheets:",t),w(f({},e),{id:Date.now().toString()})}},update:async e=>{if(!v.isConfigured())return console.log("Google Sheets not configured, saving locally only"),e;try{return await v.postJson(R,{action:"update",object:e}),e}catch(t){return console.error("Error updating from Google Sheets:",t),e}},delete:async e=>{if(!v.isConfigured())return console.log("Google Sheets not configured"),!0;try{return await v.postJson(R,{action:"delete",id:e}),!0}catch(t){return console.error("Error deleting from Google Sheets:",t),!1}},uploadFile:async({filename:e,mimeType:t,data:o})=>{if(!Le)throw new Error("Drive upload not configured");const p={action:"uploadImage",filename:e,mimeType:t,data:o},m=await v.postJson(Le,p);if(!m.success)throw new Error(m.error||"Upload failed");return m.result},fetchMetrics:async()=>{if(!v.isConfigured())return null;try{const e=await fetch(`${R}?action=getMetrics`);if(!e.ok)throw new Error("Failed to fetch metrics");return(await e.json()).metrics||null}catch(e){return console.error("Error fetching metrics:",e),null}},submitQuarterlyUpdate:async e=>{if(!v.isConfigured())throw new Error("Google Sheets not configured");const t=await v.postJson(R,{action:"submitQuarterlyUpdate",form:e});if(!t.success)throw new Error(t.error||"Submission failed");return t.result},submitReviewUpdate:async e=>{if(!v.isConfigured())throw new Error("Google Sheets not configured");const t=await v.postJson(R,{action:"submitReviewUpdate",review:e});if(!t.success)throw new Error(t.error||"Submission failed");return t.result},fetchVisionStatements:async()=>{if(!v.isConfigured())return[];try{const e=await fetch(`${R}?action=getVisionStatements`);if(!e.ok)throw new Error("Failed to fetch vision statements");return(await e.json()).vision||[]}catch(e){return console.error("Error fetching vision statements:",e),[]}},updateVisionStatement:async e=>{if(!v.isConfigured())throw new Error("Google Sheets not configured");const t=await v.postJson(R,{action:"updateVisionStatement",vision:e});if(!t.success)throw new Error(t.error||"Save failed");return t.result},fetchFocusAreaGoals:async()=>{if(!v.isConfigured())return[];try{const e=await fetch(`${R}?action=getFocusAreaGoals`);if(!e.ok)throw new Error("Failed to fetch focus area goals");return(await e.json()).goals||[]}catch(e){return console.error("Error fetching focus area goals:",e),[]}},updateFocusAreaGoal:async e=>{if(!v.isConfigured())throw new Error("Google Sheets not configured");const t=await v.postJson(R,{action:"updateFocusAreaGoal",goal:e});if(!t.success)throw new Error(t.error||"Save failed");return t.result},deleteFocusAreaGoal:async e=>{if(!v.isConfigured())throw new Error("Google Sheets not configured");const t=await v.postJson(R,{action:"deleteFocusAreaGoal",id:e});if(!t.success)throw new Error(t.error||"Delete failed");return t.result},fetchQuarterlyUpdates:async()=>{if(!v.isConfigured())return[];try{const e=await fetch(`${R}?action=getQuarterlyUpdates`);if(!e.ok)throw new Error("Failed to fetch quarterly updates");return(await e.json()).updates||[]}catch(e){return console.error("Error fetching quarterly updates:",e),[]}},fetchSectionSnapshots:async()=>{if(!v.isConfigured())return null;try{const e=await fetch(`${R}?action=getSectionSnapshots`);if(!e.ok)throw new Error("Failed to fetch section snapshots");return(await e.json()).sections||null}catch(e){return console.error("Error fetching section snapshots:",e),null}}},ee=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to read cache:",t),null}},B=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(o){console.warn("Failed to write cache:",o)}},qe=()=>`${Date.now()}-${Math.random().toString(16).slice(2,6)}`,Se=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(t){return e}},mt=e=>{if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return e;const o=String(t.getMonth()+1).padStart(2,"0"),p=String(t.getDate()).padStart(2,"0"),m=String(t.getFullYear());return`${o}-${p}-${m}`},gt=e=>{switch(e){case"Q1":return"Q2";case"Q2":return"Q3";case"Q3":return"Q4";case"Q4":return"Final";default:return null}},ye=e=>e==null?"N/A":new Intl.NumberFormat("en-US").format(Number(e)||0),ze=e=>{if(e==null)return"N/A";const t=Number(e)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t)},vt=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString().slice(0,10)};const Y=e=>w(f({},e),{focusArea:e.focusArea||e.pillar||"",progress:Number(e.progress)||0,updates:Array.isArray(e.updates)?e.updates:[]}),xt=e=>e.slice().sort((t,o)=>new Date(o.date)-new Date(t.date)),ht=e=>{switch(e){case"On track":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"At risk":return"bg-amber-100 text-amber-700 border-amber-200";case"Behind":return"bg-rose-100 text-rose-700 border-rose-200";case"Complete":return"bg-gold text-white border-gold";default:return"bg-stone-100 text-stone-600 border-stone-200"}},bt=e=>{switch(e){case"Reviewed":return"text-emerald-700";case"Needs info":return"text-rose-700";default:return"text-amber-700"}},ft=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 2l2.5 6 6 2.5-6 2.5-2.5 6-2.5-6L3.5 10.5 9.5 8z"}));const ae=({size:e=22})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},React.createElement("path",{d:"M12 2.8l2.7 5.7 6.3.9-4.5 4.4 1.1 6.2L12 17.8 6.4 20l1.1-6.2-4.5-4.4 6.3-.9L12 2.8z"}));const Je=({size:e=20})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M19 12H5"}),React.createElement("path",{d:"M11 5l-7 7 7 7"}));const yt=({value:e})=>React.createElement("div",{className:"w-full bg-stone-100 rounded-full h-3 overflow-hidden"},React.createElement("div",{className:"h-full bg-clay transition-all",style:{width:`${Math.min(Math.max(e,0),100)}%`}})),wt=({status:e})=>React.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${ht(e)}`},e);const Nt=({update:e,onReviewSave:t})=>{const[o,p]=x(e.reviewStatus||"Pending"),[m,s]=x(e.reviewNotes||"");return React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},Se(e.date)),React.createElement("h4",{className:"font-display text-lg text-ink mt-1"},e.summary||"Update"),React.createElement("p",{className:"text-sm text-stone-600"},"Submitted by ",e.author||"Team member")),React.createElement("div",{className:`text-xs font-semibold ${bt(o)}`},o)),e.details&&React.createElement("p",{className:"text-sm text-stone-700 mt-3 whitespace-pre-wrap"},e.details),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-stone-600 mt-4"},React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Blockers"),React.createElement("div",null,e.blockers||"None noted")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Next steps"),React.createElement("div",null,e.nextSteps||"No next steps yet")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Progress"),React.createElement("div",null,typeof e.progress=="number"?`${Math.round(e.progress)}%`:"Not shared"))),e.links&&React.createElement("div",{className:"mt-3 text-xs text-gold"},React.createElement("a",{href:e.links,target:"_blank",rel:"noreferrer",className:"underline"},"View supporting link")),React.createElement("div",{className:"mt-4 pt-4 border-t border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champion review"),React.createElement("div",{className:"flex flex-col md:flex-row md:items-center gap-3 mt-2"},React.createElement("select",{value:o,onChange:l=>p(l.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white text-sm"},ut.map(l=>React.createElement("option",{key:l,value:l},l))),React.createElement("input",{type:"text",value:m,onChange:l=>s(l.target.value),placeholder:"Review notes",className:"flex-1 px-3 py-2 border border-stone-200 rounded-lg text-sm"}),React.createElement("button",{onClick:()=>t(e.id,o,m),className:"px-4 py-2 bg-gold text-white rounded-lg text-sm"},"Save review"))))},kt=({initiative:e,onSubmit:t})=>{const[o,p]=x(""),[m,s]=x(""),[l,F]=x(""),[d,k]=x(""),[u,A]=x(""),[I,E]=x(e.progress||0),[O,U]=x("");return React.createElement("form",{onSubmit:n=>{n.preventDefault();const K={id:qe(),date:new Date().toISOString(),author:o,summary:m,details:l,blockers:d,nextSteps:u,progress:Number(I)||0,links:O,reviewStatus:"Pending",reviewNotes:""};t(K),p(""),s(""),F(""),k(""),A(""),E(e.progress||0),U("")},className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h3",{className:"font-display text-xl"},"Submit progress update"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board members")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Your name"),React.createElement("input",{type:"text",value:o,onChange:n=>p(n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Name or team",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Update headline"),React.createElement("input",{type:"text",value:m,onChange:n=>s(n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Short summary",required:!0})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Details"),React.createElement("textarea",{value:l,onChange:n=>F(n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"What changed? What decisions were made?"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Blockers"),React.createElement("input",{type:"text",value:d,onChange:n=>k(n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Risks or constraints"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next steps"),React.createElement("input",{type:"text",value:u,onChange:n=>A(n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Immediate actions"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Updated progress"),React.createElement("select",{value:I,onChange:n=>E(n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},Ye.map(n=>React.createElement("option",{key:n,value:n},n,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Supporting link"),React.createElement("input",{type:"url",value:O,onChange:n=>U(n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"https://"}))),React.createElement("div",{className:"mt-4 flex items-center justify-end"},React.createElement("button",{type:"submit",className:"px-5 py-2 bg-clay text-white rounded-lg"},"Submit update")))},Ct=({initiative:e,onSave:t,onCancel:o,isSaving:p})=>{const[m,s]=x(()=>({title:(e==null?void 0:e.title)||"",focusArea:(e==null?void 0:e.focusArea)||"",description:(e==null?void 0:e.description)||"",owner:(e==null?void 0:e.owner)||"",coChampions:(e==null?void 0:e.coChampions)||"",status:(e==null?void 0:e.status)||W[0],progress:(e==null?void 0:e.progress)||0,targetDate:(e==null?void 0:e.targetDate)||"",successMetrics:(e==null?void 0:e.successMetrics)||"",threeYearVision:(e==null?void 0:e.threeYearVision)||"",annualGoals:(e==null?void 0:e.annualGoals)||"",notes:(e==null?void 0:e.notes)||""})),l=(d,k)=>{s(u=>w(f({},u),{[d]:k}))};return React.createElement("form",{onSubmit:d=>{d.preventDefault();const k=w(f(f({},e),m),{progress:Number(m.progress)||0,updates:(e==null?void 0:e.updates)||[]});t(k)},className:"bg-white rounded-2xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl"},e?"Edit initiative":"Add initiative"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board leaders")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-5"},React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Initiative title"),React.createElement("input",{type:"text",value:m.title,onChange:d=>l("title",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Focus area"),React.createElement("select",{value:m.focusArea,onChange:d=>l("focusArea",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},React.createElement("option",{value:""},"Select focus area"),te.map(d=>React.createElement("option",{key:d,value:d},d)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("input",{type:"text",value:m.owner,onChange:d=>l("owner",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Lead or team"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Description"),React.createElement("textarea",{value:m.description,onChange:d=>l("description",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("input",{type:"text",value:m.coChampions,onChange:d=>l("coChampions",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Names or roles"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Status"),React.createElement("select",{value:m.status,onChange:d=>l("status",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},W.map(d=>React.createElement("option",{key:d,value:d},d)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Progress"),React.createElement("select",{value:m.progress,onChange:d=>l("progress",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},Ye.map(d=>React.createElement("option",{key:d,value:d},d,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("input",{type:"date",value:m.targetDate,onChange:d=>l("targetDate",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("input",{type:"text",value:m.successMetrics,onChange:d=>l("successMetrics",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"What does success look like?"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("textarea",{value:m.threeYearVision,onChange:d=>l("threeYearVision",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Describe what success looks like in three years."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("textarea",{value:m.annualGoals,onChange:d=>l("annualGoals",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"List the annual goals that move this forward."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("textarea",{value:m.notes,onChange:d=>l("notes",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]"}))),React.createElement("div",{className:"mt-6 flex items-center justify-end gap-3"},React.createElement("button",{type:"button",onClick:o,className:"px-4 py-2 border border-stone-200 rounded-lg"},"Cancel"),React.createElement("button",{type:"submit",disabled:p,className:"px-5 py-2 bg-gold text-white rounded-lg"},p?"Saving...":"Save initiative")))},$e=()=>({focusArea:"",quarter:"",year:new Date().getFullYear().toString(),submittedDate:new Date().toISOString().slice(0,10),primaryFocus:"",goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:"",challenges:{capacity:!1,budget:!1,scheduling:!1,coordination:!1,external:!1,other:!1,otherText:"",details:""},supportNeeded:"",supportTypes:{staff:!1,marketing:!1,board:!1,funding:!1,facilities:!1,other:!1,otherText:""},nextQuarterFocus:"",nextPriorities:["","",""],finalTallyOverview:""}),Be=({onSubmitted:e,initialData:t,hidePrimaryGoals:o=!1,defaultFocusArea:p="",lockFocusArea:m=!1})=>{const[s,l]=x(()=>w(f({},$e()),{focusArea:p||""})),[F,d]=x(!1),[k,u]=x(!1),[A,I]=x([]),E=`nsh-quarterly-next-${s.focusArea||"area"}-${s.quarter||"quarter"}`,O=(a,N)=>{l(g=>w(f({},g),{[a]:N}))},U=(a,N,g)=>{l(T=>{const Q=T.goals.map((G,V)=>V===a?w(f({},G),{[N]:g}):G);return w(f({},T),{goals:Q})})},j=(a,N)=>{l(g=>w(f({},g),{challenges:w(f({},g.challenges),{[a]:N})}))},n=(a,N)=>{l(g=>w(f({},g),{supportTypes:w(f({},g.supportTypes),{[a]:N})}))},K=(a,N)=>{l(g=>{const T=g.nextPriorities.map((Q,G)=>G===a?N:Q);return w(f({},g),{nextPriorities:T})})};le(()=>{t&&(l(a=>w(f(f({},$e()),t),{challenges:f(f({},a.challenges),t.challenges||{}),supportTypes:f(f({},a.supportTypes),t.supportTypes||{})})),I(t.uploadedFiles||[]))},[t]),le(()=>{var N;if(t||!s.focusArea||!s.quarter||s.primaryFocus||(N=s.goals)!=null&&N.some(g=>g.goal))return;const a=localStorage.getItem(E);if(a)try{const g=JSON.parse(a);if(!g)return;l(T=>{var Q;return w(f({},T),{primaryFocus:g.primaryFocus||T.primaryFocus,goals:(Q=g.goals)!=null&&Q.length?g.goals:T.goals})})}catch(g){console.warn("Failed to read quarterly suggestion:",g)}},[t,s.focusArea,s.quarter,s.primaryFocus,s.goals,E]);const se=async a=>{a.preventDefault(),u(!0);try{await v.submitQuarterlyUpdate(w(f({},s),{uploadedFiles:A}));const N=gt(s.quarter);if(N&&s.focusArea){const g=`nsh-quarterly-next-${s.focusArea}-${N}`,T=s.nextPriorities||[],Q={primaryFocus:s.nextQuarterFocus||T[0]||"",goals:[{goal:T[0]||"",status:"On Track",summary:""},{goal:T[1]||"",status:"On Track",summary:""},{goal:T[2]||"",status:"On Track",summary:""}]};localStorage.setItem(g,JSON.stringify(Q))}await(e==null?void 0:e())}catch(N){console.error("Quarterly update submit failed:",N),alert("Submission failed. Please try again.")}u(!1)},ie=async a=>{const N=Array.from(a.target.files||[]);if(N.length){d(!0);try{const g=await Promise.all(N.map(T=>new Promise((Q,G)=>{const V=new FileReader;V.onload=async()=>{const z=String(V.result||"").split(",")[1]||"";try{const J=await v.uploadFile({filename:T.name,mimeType:T.type,data:z});Q(J)}catch(J){G(J)}},V.onerror=G,V.readAsDataURL(T)})));I(T=>[...T,...g])}catch(g){console.error("Failed to upload files:",g),alert("Failed to upload files. Please try again.")}d(!1),a.target.value=""}};return React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("h1",{className:"font-display text-3xl text-ink"},"Quarterly Strategic Area Update Form"),React.createElement("p",{className:"text-stone-600 mt-2"},"Share quarterly progress, challenges, and support needs for each focus area."),React.createElement("form",{onSubmit:se,className:"mt-6 space-y-8"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Organizational area"),React.createElement("select",{value:s.focusArea,onChange:a=>O("focusArea",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white",required:!0,disabled:m},React.createElement("option",{value:""},"Select area"),ke.map(a=>React.createElement("option",{key:a.label,value:a.label},a.label)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Quarter"),React.createElement("select",{value:s.quarter,onChange:a=>O("quarter",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white",required:!0},React.createElement("option",{value:""},"Select quarter"),["Q1","Q2","Q3","Q4","Final"].map(a=>React.createElement("option",{key:a,value:a},a==="Q1"?"Q1 (Jan 1 \u2013 Mar 31)":a==="Q2"?"Q2 (Apr 1 \u2013 Jun 30)":a==="Q3"?"Q3 (Jul 1 \u2013 Sep 30)":a==="Q4"?"Q4 (Oct 1 \u2013 Dec 31)":a)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Year"),React.createElement("input",{type:"text",value:s.year,onChange:a=>O("year",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Date submitted"),React.createElement("input",{type:"date",value:s.submittedDate,onChange:a=>O("submittedDate",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"}))),!o&&React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Primary focus and goals"),React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel mt-4 block"},"Primary focus this quarter"),React.createElement("textarea",{value:s.primaryFocus,onChange:a=>O("primaryFocus",a.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"Main priorities or themes."}),React.createElement("div",{className:"mt-4 text-xs uppercase tracking-wide text-steel"},"Quarterly goals and status"),React.createElement("div",{className:"mt-3 space-y-4"},s.goals.map((a,N)=>React.createElement("div",{key:N,className:"grid grid-cols-1 md:grid-cols-[1.2fr_0.6fr_1fr] gap-3"},React.createElement("input",{type:"text",value:a.goal,onChange:g=>U(N,"goal",g.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:`Goal ${N+1}`}),React.createElement("select",{value:a.status,onChange:g=>U(N,"status",g.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white"},["On Track","At Risk","Off Track"].map(g=>React.createElement("option",{key:g,value:g},g))),React.createElement("input",{type:"text",value:a.summary,onChange:g=>U(N,"summary",g.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Progress summary"}))))),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Quarterly reflection"),React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel mt-4 block"},"What went well"),React.createElement("textarea",{value:s.wins,onChange:a=>O("wins",a.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"Milestones, events, completed projects."}),React.createElement("div",{className:"mt-4 text-xs uppercase tracking-wide text-steel"},"Challenges encountered"),React.createElement("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-stone-700"},React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.challenges.capacity,onChange:a=>j("capacity",a.target.checked)}),"Capacity or volunteer limitations"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.challenges.budget,onChange:a=>j("budget",a.target.checked)}),"Budget or funding constraints"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.challenges.scheduling,onChange:a=>j("scheduling",a.target.checked)}),"Scheduling or timing issues"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.challenges.coordination,onChange:a=>j("coordination",a.target.checked)}),"Cross-area coordination gaps"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.challenges.external,onChange:a=>j("external",a.target.checked)}),"External factors"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.challenges.other,onChange:a=>j("other",a.target.checked)}),"Other")),s.challenges.other&&React.createElement("input",{type:"text",value:s.challenges.otherText,onChange:a=>j("otherText",a.target.value),className:"mt-3 w-full px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Other challenges"}),React.createElement("textarea",{value:s.challenges.details,onChange:a=>j("details",a.target.value),className:"mt-3 w-full px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Details"}),React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel mt-4 block"},"Support needed to stay on track"),React.createElement("textarea",{value:s.supportNeeded,onChange:a=>O("supportNeeded",a.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Be specific about the help needed."}),React.createElement("div",{className:"mt-4 text-xs uppercase tracking-wide text-steel"},"Type of support needed"),React.createElement("div",{className:"mt-2 space-y-2 text-sm text-stone-700"},React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.supportTypes.staff,onChange:a=>n("staff",a.target.checked)}),"Staff or volunteer help"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.supportTypes.marketing,onChange:a=>n("marketing",a.target.checked)}),"Marketing or communications"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.supportTypes.board,onChange:a=>n("board",a.target.checked)}),"Board guidance or decision"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.supportTypes.funding,onChange:a=>n("funding",a.target.checked)}),"Funding or fundraising support"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.supportTypes.facilities,onChange:a=>n("facilities",a.target.checked)}),"Facilities or logistics"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:s.supportTypes.other,onChange:a=>n("other",a.target.checked)}),"Other")),s.supportTypes.other&&React.createElement("input",{type:"text",value:s.supportTypes.otherText,onChange:a=>n("otherText",a.target.value),className:"mt-3 w-full px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Other support type"}),React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel mt-4 block"},"Next quarter focus area and goals"),React.createElement("input",{type:"text",value:s.nextQuarterFocus,onChange:a=>O("nextQuarterFocus",a.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Primary focus for next quarter"}),React.createElement("div",{className:"mt-3 space-y-2"},s.nextPriorities.map((a,N)=>React.createElement("input",{key:N,type:"text",value:a,onChange:g=>K(N,g.target.value),className:"w-full px-3 py-2 border border-stone-200 rounded-lg",placeholder:`${N+1}.`})))),s.quarter==="Final"&&React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Final tally overview"),React.createElement("textarea",{value:s.finalTallyOverview,onChange:a=>O("finalTallyOverview",a.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[140px]",placeholder:"End-of-year summary and tally overview."})),React.createElement("div",{className:"flex justify-end"},React.createElement("button",{type:"submit",className:"px-6 py-3 bg-gold text-white rounded-lg",disabled:k},k?"Submitting...":"Submit quarterly update")))))};const St=({focusArea:e,vision:t,onSave:o,isSaving:p})=>{const[m,s]=x(!1),[l,F]=x(t||"");return le(()=>{m||F(t||"")},[t,m]),React.createElement("div",{className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e),React.createElement("div",{className:"flex items-center gap-2 text-xs"},m?React.createElement(React.Fragment,null,React.createElement("button",{type:"button",onClick:()=>{s(!1),F(t||"")},className:"px-2 py-1 border border-stone-200 rounded-lg",disabled:p},"Cancel"),React.createElement("button",{type:"button",onClick:()=>{o(e,l),s(!1)},className:"px-2 py-1 bg-gold text-white rounded-lg",disabled:p},p?"Saving...":"Save")):React.createElement("button",{type:"button",onClick:()=>s(!0),className:"px-2 py-1 border border-stone-200 rounded-lg"},"Edit"))),m?React.createElement("textarea",{value:l,onChange:k=>F(k.target.value),className:"w-full mt-3 px-3 py-2 border border-stone-200 rounded-lg text-sm min-h-[120px]",placeholder:"Describe what success looks like in three years."}):React.createElement("div",{className:"text-sm text-stone-700 mt-2 space-y-1"},t?String(t).split(`
`).map(k=>k.trim()).filter(Boolean).map((k,u)=>React.createElement("div",{key:`${e}-vision-${u}`,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(ae,{size:12})),React.createElement("span",{className:"whitespace-pre-wrap"},k))):React.createElement("span",null,"Add a three-year vision for this focus area.")))},At=({focusArea:e,initialGoal:t,presetCategory:o,onSave:p,onCancel:m,isSaving:s})=>{const[l,F]=x(()=>({id:(t==null?void 0:t.id)||"",focusArea:e,goalTopic:"Annual goal",annualGoals:(t==null?void 0:t.annualGoals)||"",startDate:(t==null?void 0:t.startDate)||"",dueDate:(t==null?void 0:t.dueDate)||"",progress:(t==null?void 0:t.progress)||W[0],category:(t==null?void 0:t.category)||o||"Annual goals",goalDetails:(t==null?void 0:t.goalDetails)||"",goalLead:(t==null?void 0:t.goalLead)||"",futureGoals:(t==null?void 0:t.futureGoals)||""})),d=(u,A)=>{F(I=>w(f({},I),{[u]:A}))};return React.createElement("form",{onSubmit:u=>{u.preventDefault(),p(w(f({},l),{goalTopic:"Annual goal",annualGoalsItems:[]}))},className:"mt-4 bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goal"),React.createElement("input",{type:"text",value:l.annualGoals,onChange:u=>d("annualGoals",u.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("input",{type:"text",value:l.goalLead,onChange:u=>d("goalLead",u.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("textarea",{value:l.goalDetails,onChange:u=>d("goalDetails",u.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[60px]",placeholder:"Add details, notes, or key steps."})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Due date"),React.createElement("input",{type:"date",value:vt(l.dueDate),onChange:u=>d("dueDate",u.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Progress"),React.createElement("select",{value:l.progress,onChange:u=>d("progress",u.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},W.map(u=>React.createElement("option",{key:u,value:u},u))))),React.createElement("div",{className:"mt-4 flex items-center justify-end gap-2"},React.createElement("button",{type:"button",onClick:m,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm",disabled:s},"Cancel"),React.createElement("button",{type:"submit",className:"px-4 py-2 bg-gold text-white rounded-lg text-sm",disabled:s},s?"Saving...":"Save goal")))},He=({focusArea:e,goals:t,onSaveGoal:o,onDeleteGoal:p,isSaving:m,hideTitle:s})=>{const[l,F]=x(null),[d,k]=x(!1),[u,A]=x("Annual goals"),I=de(()=>t.filter(n=>!n.category||n.category==="Annual goals"||n.category==="Goals"),[t]),E=de(()=>t.filter(n=>n.category==="Future Goals"),[t]),O=n=>{k(!1),F(n),A(n.category||"Annual goals")},U=n=>{F(null),k(!0),A(n)},j=n=>{o(n),F(null),k(!1)};return React.createElement("div",{className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},!s&&React.createElement("div",{className:"font-display text-xl text-ink"},e),React.createElement("div",{className:"mt-4"},React.createElement("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-steel"},React.createElement("span",null,"Annual goals"),React.createElement("button",{type:"button",onClick:()=>U("Annual goals"),className:"text-xs px-2 py-1 border border-stone-200 rounded-lg normal-case"},"Add goal")),I.length===0?React.createElement("div",{className:"mt-3 text-sm text-stone-600"},"No annual goals yet."):React.createElement("div",{className:"mt-3 space-y-3"},I.map(n=>React.createElement("div",{key:n.id,className:"border border-stone-100 rounded-xl p-3 bg-white"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(ae,{size:12})),React.createElement("div",{className:"font-semibold text-ink"},n.annualGoals||"Untitled goal")),n.goalDetails&&React.createElement("div",{className:"text-xs text-stone-500 mt-2 whitespace-pre-wrap"},n.goalDetails)),React.createElement("button",{type:"button",onClick:()=>O(n),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")),React.createElement("div",{className:"mt-3 flex items-center justify-between text-xs text-stone-500"},React.createElement("div",null,n.dueDate?`Due: ${Se(n.dueDate)}`:""),React.createElement("div",{className:"text-stone-600"},n.progress||W[0])))))),React.createElement("div",{className:"mt-6 border-t border-stone-200 pt-4"},React.createElement("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-steel"},React.createElement("span",null,"Future goals"),React.createElement("button",{type:"button",onClick:()=>U("Future Goals"),className:"text-xs px-2 py-1 border border-stone-200 rounded-lg normal-case"},"Add goal")),E.length===0?React.createElement("div",{className:"mt-3 text-sm text-stone-600"},"No future goals yet."):React.createElement("div",{className:"mt-3 space-y-3"},E.map(n=>React.createElement("div",{key:n.id,className:"border border-stone-100 rounded-xl p-3 bg-white"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(ae,{size:12})),React.createElement("div",{className:"font-semibold text-ink"},n.annualGoals||"Untitled goal")),n.goalDetails&&React.createElement("div",{className:"text-xs text-stone-500 mt-2 whitespace-pre-wrap"},n.goalDetails)),React.createElement("button",{type:"button",onClick:()=>O(n),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")),React.createElement("div",{className:"mt-3 flex items-center justify-between text-xs text-stone-500"},React.createElement("div",null,n.dueDate?`Due: ${Se(n.dueDate)}`:""),React.createElement("div",{className:"text-stone-600"},n.progress||W[0])))))),(d||l)&&React.createElement(At,{focusArea:e,initialGoal:l,presetCategory:u,onSave:j,onCancel:()=>{k(!1),F(null)},isSaving:m}))},Ft=({goals:e,onSaveGoal:t,onDeleteGoal:o,isSaving:p,focusFilter:m})=>{const s=m?te.filter(l=>l===m):te;return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"flex items-center justify-between mb-6"},React.createElement("div",null,React.createElement("h2",{className:"font-display text-3xl text-ink"},"Focus areas"),React.createElement("p",{className:"text-stone-600 mt-1"},"Track goals by strategic focus area."))),React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},s.map(l=>React.createElement(He,{key:l,focusArea:l,goals:e.filter(F=>F.focusArea===l),onSaveGoal:t,onDeleteGoal:o,isSaving:p}))))},Dt=({initiatives:e,metrics:t,visionStatements:o,onSaveVision:p,isSavingVision:m})=>{const[s,l]=x(null),F=e.length?Math.round(e.reduce((u,A)=>u+(Number(A.progress)||0),0)/e.length):0,d=te.map(u=>({focusArea:u,count:e.filter(A=>A.focusArea===u).length})),k=te.map(u=>{const A=o==null?void 0:o.find(E=>E.focusArea===u),I=e.find(E=>E.focusArea===u&&E.threeYearVision);return{focusArea:u,vision:(A==null?void 0:A.threeYearVision)||(I==null?void 0:I.threeYearVision)||""}});return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6"},React.createElement("div",{className:"glass rounded-3xl p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-center gap-3 text-gold"},React.createElement(ft,{size:28}),React.createElement("span",{className:"text-xs uppercase tracking-wide"},"Mission and vision")),React.createElement("h1",{className:"font-display text-xl md:text-2xl text-ink mt-4"},"Mission: To revitalize North Star House as a cultural gathering place that connects people of all ages through the arts, theater, literature, history, and music\u2014fostering creativity, learning, and community for generations to come."),React.createElement("p",{className:"text-stone-600 mt-2 text-xs md:text-sm"},"Vision: [Add your vision statement here]")),React.createElement("div",{className:"grid grid-cols-2 gap-4"},[{label:"Volunteers",value:ye(t==null?void 0:t.volunteersCount)},{label:"Events booked",value:ye(t==null?void 0:t.eventsCount)},{label:"Donation total",value:ze(t==null?void 0:t.donationsTotal)},{label:"Sponsors",value:ye(t==null?void 0:t.sponsorsCount)}].map(u=>React.createElement("div",{key:u.label,className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},u.label),React.createElement("div",{className:"font-display text-3xl text-ink mt-3"},u.value))))),React.createElement("div",{className:"mt-8"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl text-ink"},"Three-year vision"),React.createElement("span",{className:"text-xs uppercase tracking-wide text-steel"},"By focus area")),React.createElement("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},k.map(u=>React.createElement(St,{key:u.focusArea,focusArea:u.focusArea,vision:u.vision,onSave:p,isSaving:m})))),React.createElement("div",{className:"mt-8"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl text-ink"},"Quarterly focus"),React.createElement("span",{className:"text-xs uppercase tracking-wide text-steel"},"Tap to expand")),React.createElement("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},["Q1","Q2","Q3","Q4","Final"].map(u=>{const A=s===u;return React.createElement("div",{key:u,className:"bg-white rounded-2xl border border-stone-100 card-shadow"},React.createElement("button",{type:"button",onClick:()=>l(A?null:u),className:"w-full flex items-center justify-between px-5 py-4 text-left"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Quarter"),React.createElement("div",{className:"font-display text-xl text-ink"},u)),React.createElement("span",{className:"text-sm text-gold"},A?"Close":"Open")),A&&React.createElement("div",{className:"px-5 pb-5 text-sm text-stone-700"},"Add quarterly priorities, milestones, and key outcomes here."))}))))};const Tt=({initiative:e,onBack:t,onEdit:o,onSubmitUpdate:p,onReviewUpdate:m})=>{const s=xt(e.updates||[]);return React.createElement("div",{className:"max-w-5xl mx-auto fade-up"},React.createElement("button",{onClick:t,className:"flex items-center gap-2 text-sm text-gold mb-4"},React.createElement(Je,{size:18})," Back to initiatives"),React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e.focusArea),React.createElement("h1",{className:"font-display text-3xl text-ink mt-2"},e.title),React.createElement("p",{className:"text-stone-600 mt-2"},e.description)),React.createElement("div",{className:"flex flex-col items-start gap-3"},React.createElement(wt,{status:e.status}),React.createElement("button",{onClick:o,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm"},"Edit initiative"))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.owner||"Unassigned")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.coChampions||"Not listed")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.targetDate||"TBD"))),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between text-xs text-steel mb-2"},React.createElement("span",null,"Progress"),React.createElement("span",null,Math.round(e.progress),"%")),React.createElement(yt,{value:e.progress})),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.successMetrics||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.notes||"No notes yet"))),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.threeYearVision||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.annualGoals||"Not defined")))),React.createElement("div",{className:"mt-6"},React.createElement(kt,{initiative:e,onSubmit:l=>p(e,l)})),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"font-display text-2xl"},"Update log"),React.createElement("span",{className:"text-xs text-steel"},s.length," updates")),s.length===0?React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-6 text-stone-600"},"No updates yet. Submit the first update to start the log."):React.createElement("div",{className:"grid grid-cols-1 gap-4"},s.map(l=>React.createElement(Nt,{key:l.id,update:l,onReviewSave:(F,d,k)=>m(e,F,d,k)})))))},It=()=>{const[e,t]=x([]),[o,p]=x("dashboard"),[m,s]=x(null),[l,F]=x(null),[d,k]=x(!0),[u,A]=x(!1),[I,E]=x(!1),[O,U]=x({donationsTotal:null,volunteersCount:null,eventsCount:null,sponsorsCount:null}),[j,n]=x([]),[K,se]=x(!1),[ie,a]=x([]),[N,g]=x(!1),[T,Q]=x(null),[G,V]=x(!1),[z,J]=x(null),ce={Construction:"House and Grounds Development",Grounds:"House and Grounds Development",Interiors:"House and Grounds Development",Fundraising:"Fund Development",Marketing:"Organizational Development",Venue:"Fund Development",Docents:"Programs and Events",Events:"Programs and Events"},[Ze,Ae]=x({Construction:null,Grounds:null,Interiors:null,Docents:null,Fundraising:null,Events:null,Marketing:null,Venue:null}),[ue,pe]=x([]),[We,Fe]=x(null),[H,me]=x(null),[_,q]=x(null),[ge,De]=x(!1),L=ke.reduce((r,i)=>(r[i.key]={label:i.label,key:i.sheet},r),{}),ve=de(()=>e.find(r=>r.id===m)||null,[e,m]),re=de(()=>e.find(r=>r.id===l)||null,[e,l]);le(()=>{xe()},[]);const xe=async({useCache:r=!0}={})=>{var Oe,Pe;if(!Ne){const Z=we();t(((Z==null?void 0:Z.objects)||[]).map(Y)),E(!1),a(pt),k(!1);return}const i=r?we():null,h=i&&Date.now()-i.updatedAt<ct,c=r?ee(Ge):null,y=r?ee(Ve):null,S=r?ee(be):null,b=r?ee(fe):null,C=r?ee(ne):null;(Oe=i==null?void 0:i.objects)!=null&&Oe.length?(t(i.objects.map(Y)),E(v.isConfigured()),k(!1)):k(!0),c&&U(c),y&&Ae(y),S&&pe(S),b&&n(b),C&&a(C);try{const Re=(await v.fetchAll()||[]).map(Y);t(Re),E(v.isConfigured()),X(Re)}catch(Z){console.error("Failed to load data:",Z),(Pe=i==null?void 0:i.objects)!=null&&Pe.length||t(Ce.map(Y))}k(!1);const D=await v.fetchMetrics();D&&(U(D),B(Ge,D));const P=await v.fetchSectionSnapshots();P&&(Ae(P),B(Ve,P));const M=await v.fetchQuarterlyUpdates();M.length&&(pe(M),B(be,M));const $=await v.fetchVisionStatements();$.length&&(n($),B(fe,$));const he=await v.fetchFocusAreaGoals();he.length&&(a(he),B(ne,he))},Ot=r=>{s(r),p("detail"),window.scrollTo(0,0)},Pt=()=>{F(null),p("add"),window.scrollTo(0,0)},Ke=r=>{F(r.id),p("edit"),window.scrollTo(0,0)},Xe=async r=>{A(!0);try{if(re){const i=await v.update(w(f({},r),{updates:r.updates||[]}));t(h=>{const c=h.map(y=>y.id===i.id?Y(i):y);return X(c),c}),s(i.id),p("detail")}else{const i=await v.create(w(f({},r),{id:r.id||qe(),updates:r.updates||[]}));t(h=>{const c=[...h,Y(i)];return X(c),c}),s(i.id),p("detail")}}catch(i){console.error("Failed to save initiative:",i),alert("Failed to save. Please try again.")}A(!1)},et=async(r,i)=>{const h=[i,...r.updates||[]],c=w(f({},r),{updates:h,progress:i.progress,lastUpdateAt:i.date});try{await v.update(c),t(y=>{const S=y.map(b=>b.id===r.id?Y(c):b);return X(S),S})}catch(y){console.error("Failed to submit update:",y),alert("Failed to submit update. Please try again.")}},tt=async(r,i,h,c)=>{const y=(r.updates||[]).map(b=>b.id===i?w(f({},b),{reviewStatus:h,reviewNotes:c}):b),S=w(f({},r),{updates:y});try{await v.update(S),t(b=>{const C=b.map(D=>D.id===r.id?Y(S):D);return X(C),C})}catch(b){console.error("Failed to save review:",b),alert("Failed to save review. Please try again.")}},Rt=async r=>{const y=r,{focusArea:i,quarter:h}=y,c=Ue(y,["focusArea","quarter"]);await v.submitReviewUpdate(r),pe(S=>{const b=S.findIndex(P=>P.focusArea===i&&P.quarter===h),C=b>=0?w(f({},S[b]),{payload:w(f({},S[b].payload||{}),{review:c})}):{focusArea:i,quarter:h,submittedDate:"",payload:{review:c}},D=b>=0?S.map((P,M)=>M===b?C:P):[...S,C];return B(be,D),D})},Qt=(r,i)=>{const c=ue.filter(C=>C.focusArea===r&&C.quarter===i).sort((C,D)=>new Date(D.submittedDate||D.createdAt)-new Date(C.submittedDate||C.createdAt))[0],y=(c==null?void 0:c.payload)||{},S=y.year||String(new Date().getFullYear()),b=y.submittedDate||(c==null?void 0:c.submittedDate)||new Date().toISOString().slice(0,10);Fe({focusArea:r,quarter:i,year:S,submittedDate:b,primaryFocus:y.primaryFocus||"",goals:y.goals&&y.goals.length?y.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:y.wins||"",challenges:y.challenges||{},supportNeeded:y.supportNeeded||"",supportTypes:y.supportTypes||{},nextPriorities:y.nextPriorities||["","",""],finalTallyOverview:y.finalTallyOverview||""}),p("quarterly"),window.scrollTo(0,0)},at=(r,i,h,c)=>{if(i!=="Q1")return;const y=c.year||String(new Date().getFullYear()),S=c.submittedDate||(h==null?void 0:h.submittedDate)||new Date().toISOString().slice(0,10);me({areaLabel:r,quarter:i}),q({focusArea:r,quarter:i,year:y,submittedDate:S,primaryFocus:c.primaryFocus||"",goals:c.goals&&c.goals.length?c.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:c.wins||"",challenges:c.challenges||{},supportNeeded:c.supportNeeded||"",supportTypes:c.supportTypes||{},nextPriorities:c.nextPriorities||["","",""],finalTallyOverview:c.finalTallyOverview||"",uploadedFiles:c.uploadedFiles||[]})},st=async()=>{if(_){De(!0);try{await v.submitQuarterlyUpdate(_),await xe({useCache:!1}),me(null),q(null)}catch(r){console.error("Failed to save inline quarterly update:",r),alert("Failed to save. Please try again.")}De(!1)}},Te=async()=>{await xe({useCache:!1}),Fe(null),p("dashboard")},rt=r=>{const i=ce[r]||r;J(i),V(!0)},ot=async(r,i)=>{se(!0);try{const h=await v.updateVisionStatement({focusArea:r,threeYearVision:i});n(c=>{const y=c.findIndex(b=>b.focusArea===r),S=y>=0?c.map((b,C)=>C===y?h:b):[...c,h];return B(fe,S),S})}catch(h){console.error("Failed to save vision statement:",h),alert("Failed to save. Please try again.")}se(!1)},Ie=async r=>{g(!0);try{const i=await v.updateFocusAreaGoal(r);a(h=>{const c=h.findIndex(S=>S.id===i.id),y=c>=0?h.map((S,b)=>b===c?i:S):[...h,i];return B(ne,y),y})}catch(i){console.error("Failed to save focus goal:",i),alert("Failed to save. Please try again.")}g(!1)},Ee=async r=>{g(!0);try{await v.deleteFocusAreaGoal(r),a(i=>{const h=i.filter(c=>c.id!==r);return B(ne,h),h})}catch(i){console.error("Failed to delete focus goal:",i),alert("Failed to delete. Please try again.")}g(!1)},nt=o==="detail"&&ve;return React.createElement("div",{className:"min-h-screen"},React.createElement("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-stone-100"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},React.createElement("div",{className:"flex items-center justify-between h-16"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"w-10 h-10 rounded-full bg-gold text-white flex items-center justify-center shadow-sm"},React.createElement(ae,{size:18})),React.createElement("div",null,React.createElement("div",{className:"font-display text-lg text-ink"},"North Star Strategic Plan"),React.createElement("div",{className:"text-xs text-steel"},"Board progress tracker"))),React.createElement("div",{className:"flex items-center gap-2 text-sm flex-wrap"},React.createElement("button",{onClick:()=>{p("dashboard"),s(null),Q(null)},className:`px-3 py-2 rounded-lg ${o==="dashboard"?"bg-stone-100":""}`},"Overview"),React.createElement("button",{onClick:()=>{p("quarterly"),s(null),Q(null)},className:`px-3 py-2 rounded-lg ${o==="quarterly"?"bg-stone-100":""}`},"Quarterly Form"),React.createElement("span",{className:`text-xs ${I?"text-emerald-600":"text-steel"}`},I?"Synced":"Local"))),React.createElement("div",{className:"pb-4"},React.createElement("div",{className:"flex flex-wrap gap-3"},React.createElement("button",{onClick:()=>{p("focus"),s(null),Q(null)},className:`tab-button text-sm ${o==="focus"?"active":""}`},"Focus Areas"),ke.map(r=>React.createElement("button",{key:r.key,onClick:()=>{p(r.key),s(null)},className:`tab-button text-sm ${o===r.key?"active":""}`},r.label)))))),React.createElement("main",{className:"px-4 sm:px-6 lg:px-8 py-8"},d?React.createElement("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl border border-stone-100 p-8 text-center text-stone-600"},"Loading strategic plan data..."):React.createElement(React.Fragment,null,o==="dashboard"&&React.createElement(Dt,{initiatives:e,metrics:O,visionStatements:j,onSaveVision:ot,isSavingVision:K}),o==="focus"&&React.createElement(Ft,{goals:ie,onSaveGoal:Ie,onDeleteGoal:Ee,isSaving:N,focusFilter:T}),o==="quarterly"&&React.createElement(Be,{onSubmitted:Te,initialData:We}),["construction","grounds","interiors","docents","fund","events","marketing","venue"].includes(o)&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("h2",{className:"font-display text-3xl text-ink"},L[o].label),React.createElement("button",{type:"button",onClick:()=>rt(L[o].label),className:"px-3 py-2 border border-stone-200 rounded-lg text-sm"},`Focus area: ${ce[L[o].label]||L[o].label}`)),React.createElement("p",{className:"text-stone-600 mt-2"},"Beginning 2026 snapshot."),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},(()=>{const r=Ze[L[o].key];return React.createElement(React.Fragment,null,React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Lead name"),React.createElement("div",{className:"text-lg text-ink mt-2"},(r==null?void 0:r.lead)||"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Budget"),React.createElement("div",{className:"text-lg text-ink mt-2"},r!=null&&r.budget?ze(r.budget):"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Volunteers (2026)"),React.createElement("div",{className:"text-lg text-ink mt-2"},(r==null?void 0:r.volunteers)||"N/A")))})())),G&&z===ce[L[o].label]&&React.createElement("div",{className:"mt-6 bg-white rounded-3xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"font-display text-2xl text-ink"},z),React.createElement("button",{type:"button",onClick:()=>{V(!1),J(null)},className:"px-3 py-2 border border-stone-200 rounded-lg text-sm"},"Close")),React.createElement("div",{className:"mt-4"},React.createElement(He,{focusArea:z,goals:ie.filter(r=>r.focusArea===z),onSaveGoal:Ie,onDeleteGoal:Ee,isSaving:N,hideTitle:!0}))),(()=>{const r=L[o].label,h=ue.filter(b=>b.focusArea===r&&b.quarter==="Q1").sort((b,C)=>new Date(C.submittedDate||C.createdAt)-new Date(b.submittedDate||b.createdAt))[0],c=(h==null?void 0:h.payload)||{},y=c.goals&&c.goals.length?c.goals:[{},{},{}],S=(H==null?void 0:H.areaLabel)===r&&(H==null?void 0:H.quarter)==="Q1";return React.createElement("div",{className:"mt-6 bg-white rounded-3xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Q1 PRIMARY FOCUS AND GOALS"),React.createElement("div",{className:"text-xs text-steel"},"Q1 (Jan 1 \uFFFD Mar 31)"),React.createElement("div",{className:"text-xs text-steel"},h!=null&&h.submittedDate?mt(h.submittedDate):"00-00-0000")),React.createElement("button",{type:"button",onClick:()=>at(r,"Q1",h,c),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")),S?React.createElement("div",{className:"mt-4 space-y-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Primary focus"),React.createElement("textarea",{value:(_==null?void 0:_.primaryFocus)||"",onChange:b=>q(C=>w(f({},C),{primaryFocus:b.target.value})),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Main priorities or themes."})),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Goals"),React.createElement("div",{className:"mt-2 space-y-3"},((_==null?void 0:_.goals)||[]).map((b,C)=>React.createElement("div",{key:C,className:"grid grid-cols-1 md:grid-cols-[1.2fr_0.6fr_1fr] gap-3"},React.createElement("input",{type:"text",value:b.goal,onChange:D=>q(P=>w(f({},P),{goals:P.goals.map((M,$)=>$===C?w(f({},M),{goal:D.target.value}):M)})),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:`Goal ${C+1}`}),React.createElement("select",{value:b.status,onChange:D=>q(P=>w(f({},P),{goals:P.goals.map((M,$)=>$===C?w(f({},M),{status:D.target.value}):M)})),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white"},["On Track","At Risk","Off Track"].map(D=>React.createElement("option",{key:D,value:D},D))),React.createElement("input",{type:"text",value:b.summary,onChange:D=>q(P=>w(f({},P),{goals:P.goals.map((M,$)=>$===C?w(f({},M),{summary:D.target.value}):M)})),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Progress summary"}))))),React.createElement("div",{className:"flex items-center justify-end gap-2"},React.createElement("button",{type:"button",onClick:()=>{me(null),q(null)},className:"px-3 py-2 border border-stone-200 rounded-lg text-sm",disabled:ge},"Cancel"),React.createElement("button",{type:"button",onClick:st,className:"px-3 py-2 bg-gold text-white rounded-lg text-sm",disabled:ge},ge?"Saving...":"Save"))):React.createElement("div",{className:"mt-4 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Primary focus"),React.createElement("div",null,c.primaryFocus||"-")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Goals"),React.createElement("div",{className:"space-y-1"},y.map((b,C)=>React.createElement("div",{key:C,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(ae,{size:12})),React.createElement("div",null,React.createElement("strong",null,b.goal||"-"))))))))})(),React.createElement("div",{className:"mt-6 bg-white rounded-3xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"QUARTERLY FORM"),React.createElement(Be,{onSubmitted:Te,hidePrimaryGoals:!0,defaultFocusArea:L[o].label,lockFocusArea:!0})),"                ",React.createElement("div",{className:"mt-6 bg-white rounded-3xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Final tally overview"),React.createElement("div",{className:"mt-3 text-sm text-stone-700"},(()=>{var h;const r=L[o].label,i=ue.find(c=>c.focusArea===r&&c.quarter==="Final");return((h=i==null?void 0:i.payload)==null?void 0:h.finalTallyOverview)||"No final tally submitted yet."})()))),nt&&React.createElement(Tt,{initiative:ve,onBack:()=>p("list"),onEdit:()=>Ke(ve),onSubmitUpdate:et,onReviewUpdate:tt}),(o==="add"||o==="edit")&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("button",{onClick:()=>p(re?"detail":"list"),className:"flex items-center gap-2 text-sm text-gold mb-4"},React.createElement(Je,{size:18})," Cancel"),React.createElement(Ct,{initiative:re,onSave:Xe,onCancel:()=>p(re?"detail":"list"),isSaving:u})))),React.createElement("footer",{className:"mt-12 pb-10 text-center text-xs text-steel"},"Built for shared accountability and board-level clarity."))},Et=ReactDOM.createRoot(document.getElementById("root"));Et.render(React.createElement(It,null));})();
