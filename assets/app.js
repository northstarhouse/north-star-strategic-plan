(()=>{var se=Object.defineProperty,ae=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var Y=(e,s,a)=>s in e?se(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,f=(e,s)=>{for(var a in s||(s={}))oe.call(s,a)&&Y(e,a,s[a]);if(H)for(var a of H(s))le.call(s,a)&&Y(e,a,s[a]);return e},w=(e,s)=>ae(e,re(s));const{useState:m,useEffect:ne,useMemo:F}=React,z="nsh-strategy-cache-v1",de=300*1e3,O=()=>{try{const e=localStorage.getItem(z);if(!e)return null;const s=JSON.parse(e);return!s||!Array.isArray(s.objects)?null:s}catch(e){return console.warn("Failed to read cache:",e),null}},E=e=>{try{localStorage.setItem(z,JSON.stringify({objects:e,updatedAt:Date.now()}))}catch(s){console.warn("Failed to write cache:",s)}},G=!0,D="https://script.google.com/macros/s/AKfycbwAGcXEtvH2joUHb0k1UxWSs8MYRqpUE-fn8wERcPxEQ9rK8hVGWcKnP7lpoWl7nNzM2A/exec",$=D,j=["Fund Development","House and Grounds Development","Programs and Events","Organizational Development"],P=["Not started","On track","At risk","Behind","Complete"],ce=["Pending","Reviewed","Needs info"],J=Array.from({length:11},(e,s)=>s*10),V=[{id:"1",title:"Launch community listening series",focusArea:"Programs and Events",description:"Host quarterly listening sessions to guide program priorities and gather feedback.",owner:"Community Outreach Lead",coChampions:"Program Director, Board Liaison",status:"On track",progress:60,targetDate:"2026-03-31",successMetrics:"4 sessions held, 120 participants, report delivered to board",threeYearVision:"A consistent community-informed events calendar with sustained attendance growth.",annualGoals:"Host 4 sessions, publish summary report, build annual outreach playbook.",notes:"Align session topics with strategic planning themes.",lastUpdateAt:"2026-01-12T18:30:00.000Z",updates:[{id:"up-1",date:"2026-01-12T18:30:00.000Z",author:"Community Outreach Lead",summary:"Secured first three locations",details:"Libraries and partner agencies confirmed for January and February sessions.",blockers:"Waiting on translation support budget confirmation.",nextSteps:"Finalize outreach materials and RSVP form.",progress:60,links:"https://example.com/agenda",reviewStatus:"Pending",reviewNotes:""}],createdAt:"2025-11-15T12:00:00.000Z",updatedAt:"2026-01-12T18:30:00.000Z"},{id:"2",title:"Build leadership succession pipeline",focusArea:"Organizational Development",description:"Create leadership development plan and identify emerging leaders for key roles.",owner:"Executive Director",coChampions:"Board Chair, HR Committee",status:"At risk",progress:35,targetDate:"2026-09-30",successMetrics:"Pipeline matrix completed, two leaders in shadow roles",threeYearVision:"Succession plan is routine, leadership bench is stable and supported.",annualGoals:"Finalize competencies, identify 2 shadow roles, launch mentoring cadence.",notes:"Need agreement on competencies and mentorship structure.",lastUpdateAt:"2025-12-18T17:05:00.000Z",updates:[{id:"up-2",date:"2025-12-18T17:05:00.000Z",author:"Executive Director",summary:"Drafted role competency framework",details:"Outlined core competencies for leadership roles; awaiting committee review.",blockers:"Committee schedule conflict in January.",nextSteps:"Hold workshop to finalize framework.",progress:35,links:"",reviewStatus:"Needs info",reviewNotes:"Please add timeline impact for delayed workshop."}],createdAt:"2025-10-01T09:00:00.000Z",updatedAt:"2025-12-18T17:05:00.000Z"}],g={isConfigured:()=>G&&D&&D.length>0,postJson:async(e,s)=>{const a=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(s)});if(!a.ok)throw new Error("Request failed");return a.json()},fetchAll:async()=>{if(!G){const e=O();return(e==null?void 0:e.objects)||[]}if(!g.isConfigured())return console.log("Google Sheets not configured, using sample data"),V;try{const e=await fetch(`${D}?action=getAll`);if(!e.ok)throw new Error("Failed to fetch data");return(await e.json()).objects||[]}catch(e){return console.error("Error fetching from Google Sheets:",e),V}},create:async e=>{if(!g.isConfigured())return console.log("Google Sheets not configured, saving locally only"),w(f({},e),{id:Date.now().toString()});try{return(await g.postJson(D,{action:"create",object:e})).result||w(f({},e),{id:Date.now().toString()})}catch(s){return console.error("Error creating in Google Sheets:",s),w(f({},e),{id:Date.now().toString()})}},update:async e=>{if(!g.isConfigured())return console.log("Google Sheets not configured, saving locally only"),e;try{return await g.postJson(D,{action:"update",object:e}),e}catch(s){return console.error("Error updating from Google Sheets:",s),e}},delete:async e=>{if(!g.isConfigured())return console.log("Google Sheets not configured"),!0;try{return await g.postJson(D,{action:"delete",id:e}),!0}catch(s){return console.error("Error deleting from Google Sheets:",s),!1}},uploadFile:async({filename:e,mimeType:s,data:a})=>{if(!$)throw new Error("Drive upload not configured");const d={action:"uploadImage",filename:e,mimeType:s,data:a},o=await g.postJson($,d);if(!o.success)throw new Error(o.error||"Upload failed");return o.result},fetchMetrics:async()=>{if(!g.isConfigured())return null;try{const e=await fetch(`${D}?action=getMetrics`);if(!e.ok)throw new Error("Failed to fetch metrics");return(await e.json()).metrics||null}catch(e){return console.error("Error fetching metrics:",e),null}}},Q=()=>`${Date.now()}-${Math.random().toString(16).slice(2,6)}`,Z=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(s){return e}},B=e=>e==null?"\u2014":new Intl.NumberFormat("en-US").format(Number(e)||0),ie=e=>{if(e==null)return"\u2014";const s=Number(e)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(s)},A=e=>w(f({},e),{focusArea:e.focusArea||e.pillar||"",progress:Number(e.progress)||0,updates:Array.isArray(e.updates)?e.updates:[]}),ue=e=>e.slice().sort((s,a)=>new Date(a.date)-new Date(s.date)),pe=e=>{switch(e){case"On track":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"At risk":return"bg-amber-100 text-amber-700 border-amber-200";case"Behind":return"bg-rose-100 text-rose-700 border-rose-200";case"Complete":return"bg-ocean text-white border-ocean";default:return"bg-stone-100 text-stone-600 border-stone-200"}},me=e=>{switch(e){case"Reviewed":return"text-emerald-700";case"Needs info":return"text-rose-700";default:return"text-amber-700"}},xe=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 2l2.5 6 6 2.5-6 2.5-2.5 6-2.5-6L3.5 10.5 9.5 8z"}));const ge=({size:e=22})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},React.createElement("path",{d:"M12 2.8l2.7 5.7 6.3.9-4.5 4.4 1.1 6.2L12 17.8 6.4 20l1.1-6.2-4.5-4.4 6.3-.9L12 2.8z"})),ve=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 5v14"}),React.createElement("path",{d:"M5 12h14"}));const q=({size:e=20})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M19 12H5"}),React.createElement("path",{d:"M11 5l-7 7 7 7"})),he=({size:e=20})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M3 12a9 9 0 0 1 15.3-6.3"}),React.createElement("path",{d:"M21 12a9 9 0 0 1-15.3 6.3"}),React.createElement("path",{d:"M18 6v4h-4"}),React.createElement("path",{d:"M6 18v-4h4"})),_=({value:e})=>React.createElement("div",{className:"w-full bg-stone-100 rounded-full h-3 overflow-hidden"},React.createElement("div",{className:"h-full bg-clay transition-all",style:{width:`${Math.min(Math.max(e,0),100)}%`}})),K=({status:e})=>React.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${pe(e)}`},e),R=({label:e,value:s,helper:a})=>React.createElement("div",{className:"glass rounded-2xl p-4 md:p-5 card-shadow"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e),React.createElement("div",{className:"text-2xl font-display text-ink mt-2"},s),a&&React.createElement("div",{className:"text-xs text-steel mt-1"},a)),be=({initiative:e,onSelect:s})=>React.createElement("button",{onClick:s,className:"text-left bg-white rounded-2xl border border-stone-100 p-5 card-shadow hover:-translate-y-0.5 transition-transform"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e.focusArea),React.createElement("h3",{className:"font-display text-xl text-ink mt-1"},e.title)),React.createElement(K,{status:e.status})),React.createElement("p",{className:"text-sm text-stone-600 mt-3"},e.description),React.createElement("div",{className:"mt-4"},React.createElement("div",{className:"flex items-center justify-between text-xs text-steel mb-2"},React.createElement("span",null,Math.round(e.progress),"% complete"),React.createElement("span",null,"Target: ",e.targetDate||"TBD")),React.createElement(_,{value:e.progress})),React.createElement("div",{className:"flex items-center justify-between text-xs text-steel mt-4"},React.createElement("span",null,"Goal lead: ",e.owner||"Unassigned"),React.createElement("span",null,"Last update: ",Z(e.lastUpdateAt)))),fe=({update:e,onReviewSave:s})=>{const[a,d]=m(e.reviewStatus||"Pending"),[o,c]=m(e.reviewNotes||"");return React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},Z(e.date)),React.createElement("h4",{className:"font-display text-lg text-ink mt-1"},e.summary||"Update"),React.createElement("p",{className:"text-sm text-stone-600"},"Submitted by ",e.author||"Team member")),React.createElement("div",{className:`text-xs font-semibold ${me(a)}`},a)),e.details&&React.createElement("p",{className:"text-sm text-stone-700 mt-3 whitespace-pre-wrap"},e.details),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-stone-600 mt-4"},React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Blockers"),React.createElement("div",null,e.blockers||"None noted")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Next steps"),React.createElement("div",null,e.nextSteps||"No next steps yet")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Progress"),React.createElement("div",null,typeof e.progress=="number"?`${Math.round(e.progress)}%`:"Not shared"))),e.links&&React.createElement("div",{className:"mt-3 text-xs text-ocean"},React.createElement("a",{href:e.links,target:"_blank",rel:"noreferrer",className:"underline"},"View supporting link")),React.createElement("div",{className:"mt-4 pt-4 border-t border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champion review"),React.createElement("div",{className:"flex flex-col md:flex-row md:items-center gap-3 mt-2"},React.createElement("select",{value:a,onChange:r=>d(r.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white text-sm"},ce.map(r=>React.createElement("option",{key:r,value:r},r))),React.createElement("input",{type:"text",value:o,onChange:r=>c(r.target.value),placeholder:"Review notes",className:"flex-1 px-3 py-2 border border-stone-200 rounded-lg text-sm"}),React.createElement("button",{onClick:()=>s(e.id,a,o),className:"px-4 py-2 bg-ocean text-white rounded-lg text-sm"},"Save review"))))},we=({initiative:e,onSubmit:s})=>{const[a,d]=m(""),[o,c]=m(""),[r,v]=m(""),[t,l]=m(""),[h,k]=m(""),[n,S]=m(e.progress||0),[M,T]=m("");return React.createElement("form",{onSubmit:i=>{i.preventDefault();const U={id:Q(),date:new Date().toISOString(),author:a,summary:o,details:r,blockers:t,nextSteps:h,progress:Number(n)||0,links:M,reviewStatus:"Pending",reviewNotes:""};s(U),d(""),c(""),v(""),l(""),k(""),S(e.progress||0),T("")},className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h3",{className:"font-display text-xl"},"Submit progress update"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board members")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Your name"),React.createElement("input",{type:"text",value:a,onChange:i=>d(i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Name or team",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Update headline"),React.createElement("input",{type:"text",value:o,onChange:i=>c(i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Short summary",required:!0})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Details"),React.createElement("textarea",{value:r,onChange:i=>v(i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"What changed? What decisions were made?"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Blockers"),React.createElement("input",{type:"text",value:t,onChange:i=>l(i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Risks or constraints"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next steps"),React.createElement("input",{type:"text",value:h,onChange:i=>k(i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Immediate actions"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Updated progress"),React.createElement("select",{value:n,onChange:i=>S(i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},J.map(i=>React.createElement("option",{key:i,value:i},i,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Supporting link"),React.createElement("input",{type:"url",value:M,onChange:i=>T(i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"https://"}))),React.createElement("div",{className:"mt-4 flex items-center justify-end"},React.createElement("button",{type:"submit",className:"px-5 py-2 bg-clay text-white rounded-lg"},"Submit update")))},Ne=({initiative:e,onSave:s,onCancel:a,isSaving:d})=>{const[o,c]=m(()=>({title:(e==null?void 0:e.title)||"",focusArea:(e==null?void 0:e.focusArea)||"",description:(e==null?void 0:e.description)||"",owner:(e==null?void 0:e.owner)||"",coChampions:(e==null?void 0:e.coChampions)||"",status:(e==null?void 0:e.status)||P[0],progress:(e==null?void 0:e.progress)||0,targetDate:(e==null?void 0:e.targetDate)||"",successMetrics:(e==null?void 0:e.successMetrics)||"",threeYearVision:(e==null?void 0:e.threeYearVision)||"",annualGoals:(e==null?void 0:e.annualGoals)||"",notes:(e==null?void 0:e.notes)||""})),r=(t,l)=>{c(h=>w(f({},h),{[t]:l}))};return React.createElement("form",{onSubmit:t=>{t.preventDefault();const l=w(f(f({},e),o),{progress:Number(o.progress)||0,updates:(e==null?void 0:e.updates)||[]});s(l)},className:"bg-white rounded-2xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl"},e?"Edit initiative":"Add initiative"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board leaders")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-5"},React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Initiative title"),React.createElement("input",{type:"text",value:o.title,onChange:t=>r("title",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Focus area"),React.createElement("select",{value:o.focusArea,onChange:t=>r("focusArea",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},React.createElement("option",{value:""},"Select focus area"),j.map(t=>React.createElement("option",{key:t,value:t},t)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("input",{type:"text",value:o.owner,onChange:t=>r("owner",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Lead or team"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Description"),React.createElement("textarea",{value:o.description,onChange:t=>r("description",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("input",{type:"text",value:o.coChampions,onChange:t=>r("coChampions",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Names or roles"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Status"),React.createElement("select",{value:o.status,onChange:t=>r("status",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},P.map(t=>React.createElement("option",{key:t,value:t},t)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Progress"),React.createElement("select",{value:o.progress,onChange:t=>r("progress",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},J.map(t=>React.createElement("option",{key:t,value:t},t,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("input",{type:"date",value:o.targetDate,onChange:t=>r("targetDate",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("input",{type:"text",value:o.successMetrics,onChange:t=>r("successMetrics",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"What does success look like?"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("textarea",{value:o.threeYearVision,onChange:t=>r("threeYearVision",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Describe what success looks like in three years."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("textarea",{value:o.annualGoals,onChange:t=>r("annualGoals",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"List the annual goals that move this forward."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("textarea",{value:o.notes,onChange:t=>r("notes",t.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]"}))),React.createElement("div",{className:"mt-6 flex items-center justify-end gap-3"},React.createElement("button",{type:"button",onClick:a,className:"px-4 py-2 border border-stone-200 rounded-lg"},"Cancel"),React.createElement("button",{type:"submit",disabled:d,className:"px-5 py-2 bg-ocean text-white rounded-lg"},d?"Saving...":"Save initiative")))},ye=({initiatives:e,metrics:s})=>{const[a,d]=m(null),o=e.length?Math.round(e.reduce((t,l)=>t+(Number(l.progress)||0),0)/e.length):0,c=P.reduce((t,l)=>(t[l]=e.filter(h=>h.status===l).length,t),{}),r=j.map(t=>({focusArea:t,count:e.filter(l=>l.focusArea===t).length})),v=j.map(t=>{const l=e.find(h=>h.focusArea===t&&h.threeYearVision);return{focusArea:t,vision:(l==null?void 0:l.threeYearVision)||"Add a three-year vision for this focus area."}});return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6"},React.createElement("div",{className:"glass rounded-3xl p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-center gap-3 text-ocean"},React.createElement(xe,{size:28}),React.createElement("span",{className:"text-xs uppercase tracking-wide"},"Mission and vision")),React.createElement("h1",{className:"font-display text-3xl md:text-4xl text-ink mt-4"},"Mission: To restore North Star House as a cultural gathering center, bringing the magic of the arts, theater, literature, history and music to generations of children, youth, and adults as well as providing a unique environment that nourishes the creative spirit."),React.createElement("p",{className:"text-stone-600 mt-3"},"Vision: [Add your vision statement here]"),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between text-xs text-steel mb-2"},React.createElement("span",null,"Overall progress"),React.createElement("span",null,o,"%")),React.createElement(_,{value:o}))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},[{label:"Volunteers",value:B(s==null?void 0:s.volunteersCount)},{label:"Events booked",value:B(s==null?void 0:s.eventsCount)},{label:"Donation total",value:ie(s==null?void 0:s.donationsTotal)},{label:"Sponsors",value:B(s==null?void 0:s.sponsorsCount)}].map(t=>React.createElement("div",{key:t.label,className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},t.label),React.createElement("div",{className:"font-display text-3xl text-ink mt-3"},t.value)))),React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},React.createElement(R,{label:"On track",value:c["On track"]||0,helper:"Healthy momentum"}),React.createElement(R,{label:"At risk",value:c["At risk"]||0,helper:"Needs attention"}),React.createElement(R,{label:"Behind",value:c.Behind||0,helper:"Escalate support"}),React.createElement(R,{label:"Complete",value:c.Complete||0,helper:"Milestones achieved"}))),React.createElement("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4"},r.map(t=>React.createElement("div",{key:t.focusArea,className:"bg-white rounded-2xl p-4 border border-stone-100 card-shadow"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},t.focusArea),React.createElement("div",{className:"font-display text-2xl mt-2"},t.count),React.createElement("div",{className:"text-xs text-stone-500"},"Initiatives tracked")))),React.createElement("div",{className:"mt-8"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl text-ink"},"Three-year vision"),React.createElement("span",{className:"text-xs uppercase tracking-wide text-steel"},"By focus area")),React.createElement("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},v.map(t=>React.createElement("div",{key:t.focusArea,className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},t.focusArea),React.createElement("p",{className:"text-sm text-stone-700 mt-2"},t.vision))))),React.createElement("div",{className:"mt-8"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl text-ink"},"Quarterly focus"),React.createElement("span",{className:"text-xs uppercase tracking-wide text-steel"},"Tap to expand")),React.createElement("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},["Q1","Q2","Q3","Q4"].map(t=>{const l=a===t;return React.createElement("div",{key:t,className:"bg-white rounded-2xl border border-stone-100 card-shadow"},React.createElement("button",{type:"button",onClick:()=>d(l?null:t),className:"w-full flex items-center justify-between px-5 py-4 text-left"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Quarter"),React.createElement("div",{className:"font-display text-xl text-ink"},t)),React.createElement("span",{className:"text-sm text-ocean"},l?"Close":"Open")),l&&React.createElement("div",{className:"px-5 pb-5 text-sm text-stone-700"},"Add quarterly priorities, milestones, and key outcomes here."))}))))},ke=({initiatives:e,onSelect:s,onAdd:a,onRefresh:d,isLoading:o})=>{const[c,r]=m(""),[v,t]=m(""),[l,h]=m(""),k=F(()=>e.filter(n=>{const S=[n.title,n.description,n.owner,n.coChampions,n.focusArea,n.status].join(" ").toLowerCase();return!(c&&!S.includes(c.toLowerCase())||v&&n.focusArea!==v||l&&n.status!==l)}),[e,c,v,l]);return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6"},React.createElement("div",null,React.createElement("h2",{className:"font-display text-3xl text-ink"},"Strategic initiatives"),React.createElement("p",{className:"text-stone-600"},"Browse progress, submit updates, and review action items.")),React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{onClick:d,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm",disabled:o},React.createElement("span",{className:"inline-flex items-center gap-2"},React.createElement(he,{size:16})," Refresh")),React.createElement("button",{onClick:a,className:"px-4 py-2 bg-clay text-white rounded-lg text-sm"},React.createElement("span",{className:"inline-flex items-center gap-2"},React.createElement(ve,{size:16})," Add initiative")))),React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-4 card-shadow mb-6"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3"},React.createElement("input",{type:"text",value:c,onChange:n=>r(n.target.value),placeholder:"Search initiatives",className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("select",{value:v,onChange:n=>t(n.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white"},React.createElement("option",{value:""},"All focus areas"),j.map(n=>React.createElement("option",{key:n,value:n},n))),React.createElement("select",{value:l,onChange:n=>h(n.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white"},React.createElement("option",{value:""},"All statuses"),P.map(n=>React.createElement("option",{key:n,value:n},n))))),k.length===0?React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-8 text-center text-stone-600"},"No initiatives found. Adjust filters or add a new initiative."):React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5"},k.map(n=>React.createElement(be,{key:n.id,initiative:n,onSelect:()=>s(n.id)}))))},Se=({initiative:e,onBack:s,onEdit:a,onSubmitUpdate:d,onReviewUpdate:o})=>{const c=ue(e.updates||[]);return React.createElement("div",{className:"max-w-5xl mx-auto fade-up"},React.createElement("button",{onClick:s,className:"flex items-center gap-2 text-sm text-ocean mb-4"},React.createElement(q,{size:18})," Back to initiatives"),React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e.focusArea),React.createElement("h1",{className:"font-display text-3xl text-ink mt-2"},e.title),React.createElement("p",{className:"text-stone-600 mt-2"},e.description)),React.createElement("div",{className:"flex flex-col items-start gap-3"},React.createElement(K,{status:e.status}),React.createElement("button",{onClick:a,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm"},"Edit initiative"))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.owner||"Unassigned")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.coChampions||"Not listed")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.targetDate||"TBD"))),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between text-xs text-steel mb-2"},React.createElement("span",null,"Progress"),React.createElement("span",null,Math.round(e.progress),"%")),React.createElement(_,{value:e.progress})),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.successMetrics||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.notes||"No notes yet"))),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.threeYearVision||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.annualGoals||"Not defined")))),React.createElement("div",{className:"mt-6"},React.createElement(we,{initiative:e,onSubmit:r=>d(e,r)})),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"font-display text-2xl"},"Update log"),React.createElement("span",{className:"text-xs text-steel"},c.length," updates")),c.length===0?React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-6 text-stone-600"},"No updates yet. Submit the first update to start the log."):React.createElement("div",{className:"grid grid-cols-1 gap-4"},c.map(r=>React.createElement(fe,{key:r.id,update:r,onReviewSave:(v,t,l)=>o(e,v,t,l)})))))},Ce=()=>{const[e,s]=m([]),[a,d]=m("dashboard"),[o,c]=m(null),[r,v]=m(null),[t,l]=m(!0),[h,k]=m(!1),[n,S]=m(!1),[M,T]=m({donationsTotal:null,volunteersCount:null,eventsCount:null,sponsorsCount:null}),L=F(()=>e.find(p=>p.id===o)||null,[e,o]),i=F(()=>e.find(p=>p.id===r)||null,[e,r]);ne(()=>{U()},[]);const U=async({useCache:p=!0}={})=>{var N,C;if(!G){const x=O();s(((x==null?void 0:x.objects)||[]).map(A)),S(!1),l(!1);return}const u=p?O():null,y=u&&Date.now()-u.updatedAt<de;(N=u==null?void 0:u.objects)!=null&&N.length?(s(u.objects.map(A)),S(g.isConfigured()),l(!1)):l(!0);try{const I=(await g.fetchAll()||[]).map(A);s(I),S(g.isConfigured()),E(I)}catch(x){console.error("Failed to load data:",x),(C=u==null?void 0:u.objects)!=null&&C.length||s(V.map(A))}l(!1);const b=await g.fetchMetrics();b&&T(b)},X=p=>{c(p),d("detail"),window.scrollTo(0,0)},ee=()=>{v(null),d("add"),window.scrollTo(0,0)},te=p=>{v(p.id),d("edit"),window.scrollTo(0,0)};return React.createElement("div",{className:"min-h-screen"},React.createElement("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-stone-100"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},React.createElement("div",{className:"flex items-center justify-between h-16"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"w-10 h-10 rounded-full bg-gold text-white flex items-center justify-center shadow-sm"},React.createElement(ge,{size:18})),React.createElement("div",null,React.createElement("div",{className:"font-display text-lg text-ink"},"North Star Strategic Plan"),React.createElement("div",{className:"text-xs text-steel"},"Board progress tracker"))),React.createElement("div",{className:"flex items-center gap-2 text-sm"},React.createElement("button",{onClick:()=>{d("dashboard"),c(null)},className:`px-3 py-2 rounded-lg ${a==="dashboard"?"bg-stone-100":""}`},"Dashboard"),React.createElement("button",{onClick:()=>{d("list"),c(null)},className:`px-3 py-2 rounded-lg ${a==="list"?"bg-stone-100":""}`},"Initiatives"),React.createElement("span",{className:`text-xs ${n?"text-emerald-600":"text-steel"}`},n?"Synced":"Local"))))),React.createElement("main",{className:"px-4 sm:px-6 lg:px-8 py-8"},t?React.createElement("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl border border-stone-100 p-8 text-center text-stone-600"},"Loading strategic plan data..."):React.createElement(React.Fragment,null,a==="dashboard"&&React.createElement(ye,{initiatives:e,metrics:M}),a==="list"&&React.createElement(ke,{initiatives:e,onSelect:X,onAdd:ee,onRefresh:()=>U({useCache:!1}),isLoading:t}),a==="detail"&&L&&React.createElement(Se,{initiative:L,onBack:()=>d("list"),onEdit:()=>te(L),onSubmitUpdate:async(p,u)=>{const y=[u,...p.updates||[]],b=w(f({},p),{updates:y,progress:u.progress,lastUpdateAt:u.date});try{await g.update(b),s(N=>{const C=N.map(x=>x.id===p.id?A(b):x);return E(C),C})}catch(N){console.error("Failed to submit update:",N),alert("Failed to submit update. Please try again.")}},onReviewUpdate:async(p,u,y,b)=>{const N=(p.updates||[]).map(x=>x.id===u?w(f({},x),{reviewStatus:y,reviewNotes:b}):x),C=w(f({},p),{updates:N});try{await g.update(C),s(x=>{const I=x.map(W=>W.id===p.id?A(C):W);return E(I),I})}catch(x){console.error("Failed to save review:",x),alert("Failed to save review. Please try again.")}}}),(a==="add"||a==="edit")&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("button",{onClick:()=>d(i?"detail":"list"),className:"flex items-center gap-2 text-sm text-ocean mb-4"},React.createElement(q,{size:18})," Cancel"),React.createElement(Ne,{initiative:i,onSave:async p=>{k(!0);try{if(i){const u=await g.update(w(f({},p),{updates:p.updates||[]}));s(y=>{const b=y.map(N=>N.id===u.id?A(u):N);return E(b),b}),c(u.id),d("detail")}else{const u=await g.create(w(f({},p),{id:p.id||Q(),updates:p.updates||[]}));s(y=>{const b=[...y,A(u)];return E(b),b}),c(u.id),d("detail")}}catch(u){console.error("Failed to save initiative:",u),alert("Failed to save. Please try again.")}k(!1)},onCancel:()=>d(i?"detail":"list"),isSaving:h})))),React.createElement("footer",{className:"mt-12 pb-10 text-center text-xs text-steel"},"Built for shared accountability and board-level clarity."))},Ae=ReactDOM.createRoot(document.getElementById("root"));Ae.render(React.createElement(Ce,null));})();
