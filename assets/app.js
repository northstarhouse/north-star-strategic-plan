(()=>{var $e=Object.defineProperty,Qe=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var be=(e,t,s)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,C=(e,t)=>{for(var s in t||(t={}))fe.call(t,s)&&be(e,s,t[s]);if(J)for(var s of J(t))ye.call(t,s)&&be(e,s,t[s]);return e},S=(e,t)=>Qe(e,_e(t));var we=(e,t)=>{var s={};for(var u in e)fe.call(e,u)&&t.indexOf(u)<0&&(s[u]=e[u]);if(e!=null&&J)for(var u of J(e))t.indexOf(u)<0&&ye.call(e,u)&&(s[u]=e[u]);return s};const{useState:b,useEffect:Z,useMemo:ne}=React,Ae="nsh-strategy-cache-v1",Ne="nsh-strategy-metrics-cache-v1",ke="nsh-strategy-sections-cache-v1",re="nsh-strategy-quarterly-cache-v1",oe="nsh-strategy-vision-cache-v1",W="nsh-strategy-focus-goals-cache-v1",ze=300*1e3,de=()=>{try{const e=localStorage.getItem(Ae);if(!e)return null;const t=JSON.parse(e);return!t||!Array.isArray(t.objects)?null:t}catch(e){return console.warn("Failed to read cache:",e),null}},z=e=>{try{localStorage.setItem(Ae,JSON.stringify({objects:e,updatedAt:Date.now()}))}catch(t){console.warn("Failed to write cache:",t)}},ie=!0,O="https://script.google.com/macros/s/AKfycbwceVcGLuTCKp_GjlzYERa1OyhUcQQw6jnKhG2cmn4_AgSZjPEE8CWaO698S-lEtlk1/exec",Ce=O,K=["Fund Development","House and Grounds Development","Programs and Events","Organizational Development"],ce=[{key:"construction",label:"Construction",sheet:"Construction"},{key:"grounds",label:"Grounds",sheet:"Grounds"},{key:"interiors",label:"Interiors",sheet:"Interiors"},{key:"docents",label:"Docents",sheet:"Docents"},{key:"fund",label:"Fund Development",sheet:"Fund Development"},{key:"org",label:"Organizational Development",sheet:"Organizational Development"},{key:"venue",label:"Venue",sheet:"Venue"}],H=["Not started","On track","At risk","Behind","Complete"],Ye=["Pending","Reviewed","Needs info"],De=Array.from({length:11},(e,t)=>t*10),pe=[{id:"1",title:"Launch community listening series",focusArea:"Programs and Events",description:"Host quarterly listening sessions to guide program priorities and gather feedback.",owner:"Community Outreach Lead",coChampions:"Program Director, Board Liaison",status:"On track",progress:60,targetDate:"2026-03-31",successMetrics:"4 sessions held, 120 participants, report delivered to board",threeYearVision:"We will have a clear set of documented programs and services that reinforce the House's role as a cultural historical gathering center and are well-organized, financially sustainable, and have clearly communicated teams of staff/volunteers that run each of the programs/services.",annualGoals:"Host 4 sessions, publish summary report, build annual outreach playbook.",notes:"Align session topics with strategic planning themes.",lastUpdateAt:"2026-01-12T18:30:00.000Z",updates:[{id:"up-1",date:"2026-01-12T18:30:00.000Z",author:"Community Outreach Lead",summary:"Secured first three locations",details:"Libraries and partner agencies confirmed for January and February sessions.",blockers:"Waiting on translation support budget confirmation.",nextSteps:"Finalize outreach materials and RSVP form.",progress:60,links:"https://example.com/agenda",reviewStatus:"Pending",reviewNotes:""}],createdAt:"2025-11-15T12:00:00.000Z",updatedAt:"2026-01-12T18:30:00.000Z"},{id:"2",title:"Build leadership succession pipeline",focusArea:"Organizational Development",description:"Create leadership development plan and identify emerging leaders for key roles.",owner:"Executive Director",coChampions:"Board Chair, HR Committee",status:"At risk",progress:35,targetDate:"2026-09-30",successMetrics:"Pipeline matrix completed, two leaders in shadow roles",threeYearVision:"A smooth-running organization that ensures the success of the Conservancy.",annualGoals:"Finalize competencies, identify 2 shadow roles, launch mentoring cadence.",notes:"Need agreement on competencies and mentorship structure.",lastUpdateAt:"2025-12-18T17:05:00.000Z",updates:[{id:"up-2",date:"2025-12-18T17:05:00.000Z",author:"Executive Director",summary:"Drafted role competency framework",details:"Outlined core competencies for leadership roles; awaiting committee review.",blockers:"Committee schedule conflict in January.",nextSteps:"Hold workshop to finalize framework.",progress:35,links:"",reviewStatus:"Needs info",reviewNotes:"Please add timeline impact for delayed workshop."}],createdAt:"2025-10-01T09:00:00.000Z",updatedAt:"2025-12-18T17:05:00.000Z"},{id:"3",title:"Complete house restoration and grounds plan",focusArea:"House and Grounds Development",description:"Finish the first floor renovation, restore the second floor with a volunteer crew, install fire suppression, and clarify the grounds plan.",owner:"Facilities Lead",coChampions:"Volunteer Crew Lead, Board Liaison",status:"Not started",progress:0,targetDate:"2028-12-31",successMetrics:"First floor renovated, second floor restored, fire suppression installed, grounds plan approved.",threeYearVision:"Complete the first floor renovation. The 2nd floor of the house will be restored by a clearly-led and well-organized volunteer crew. A fire suppression system will be installed. Plans for the rest of the grounds will have been clarified.",annualGoals:"Confirm scope, recruit volunteer crew, secure fire suppression bids, draft grounds plan options.",notes:"",lastUpdateAt:"2026-01-15T12:00:00.000Z",updates:[],createdAt:"2026-01-01T12:00:00.000Z",updatedAt:"2026-01-15T12:00:00.000Z"},{id:"4",title:"Staff and organize fund development plan",focusArea:"Fund Development",description:"Build staffing, systems, and campaign execution to accelerate fundraising.",owner:"Development Director",coChampions:"Board Treasurer, Capital Campaign Chair",status:"Not started",progress:0,targetDate:"2028-12-31",successMetrics:"Fund development staffing in place, $1M raised toward capital campaign.",threeYearVision:"Over the next three years we will have successfully staffed and organized our fund development plans and raised $1M of the $2M capital campaign.",annualGoals:"Hire development lead, finalize campaign plan, raise initial $250k.",notes:"",lastUpdateAt:"2026-01-15T12:00:00.000Z",updates:[],createdAt:"2026-01-01T12:00:00.000Z",updatedAt:"2026-01-15T12:00:00.000Z"}],He=[{id:"fg-1",focusArea:"Fund Development",goalTopic:"Annual goal",annualGoals:"Document the Conservancy\u2019s fund development plan.",annualGoalsItems:[],goalDetails:"",startDate:"",dueDate:"",goalChampions:"Jeff, Haley",goalTeamMembers:"",progress:"Not Started",category:""}],v={isConfigured:()=>ie&&O&&O.length>0,postJson:async(e,t)=>{const s=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(t)});if(!s.ok)throw new Error("Request failed");return s.json()},fetchAll:async()=>{if(!ie){const e=de();return(e==null?void 0:e.objects)||[]}if(!v.isConfigured())return console.log("Google Sheets not configured, using sample data"),pe;try{const e=await fetch(`${O}?action=getAll`);if(!e.ok)throw new Error("Failed to fetch data");return(await e.json()).objects||[]}catch(e){return console.error("Error fetching from Google Sheets:",e),pe}},create:async e=>{if(!v.isConfigured())return console.log("Google Sheets not configured, saving locally only"),S(C({},e),{id:Date.now().toString()});try{return(await v.postJson(O,{action:"create",object:e})).result||S(C({},e),{id:Date.now().toString()})}catch(t){return console.error("Error creating in Google Sheets:",t),S(C({},e),{id:Date.now().toString()})}},update:async e=>{if(!v.isConfigured())return console.log("Google Sheets not configured, saving locally only"),e;try{return await v.postJson(O,{action:"update",object:e}),e}catch(t){return console.error("Error updating from Google Sheets:",t),e}},delete:async e=>{if(!v.isConfigured())return console.log("Google Sheets not configured"),!0;try{return await v.postJson(O,{action:"delete",id:e}),!0}catch(t){return console.error("Error deleting from Google Sheets:",t),!1}},uploadFile:async({filename:e,mimeType:t,data:s})=>{if(!Ce)throw new Error("Drive upload not configured");const u={action:"uploadImage",filename:e,mimeType:t,data:s},d=await v.postJson(Ce,u);if(!d.success)throw new Error(d.error||"Upload failed");return d.result},fetchMetrics:async()=>{if(!v.isConfigured())return null;try{const e=await fetch(`${O}?action=getMetrics`);if(!e.ok)throw new Error("Failed to fetch metrics");return(await e.json()).metrics||null}catch(e){return console.error("Error fetching metrics:",e),null}},submitQuarterlyUpdate:async e=>{if(!v.isConfigured())throw new Error("Google Sheets not configured");const t=await v.postJson(O,{action:"submitQuarterlyUpdate",form:e});if(!t.success)throw new Error(t.error||"Submission failed");return t.result},submitReviewUpdate:async e=>{if(!v.isConfigured())throw new Error("Google Sheets not configured");const t=await v.postJson(O,{action:"submitReviewUpdate",review:e});if(!t.success)throw new Error(t.error||"Submission failed");return t.result},fetchVisionStatements:async()=>{if(!v.isConfigured())return[];try{const e=await fetch(`${O}?action=getVisionStatements`);if(!e.ok)throw new Error("Failed to fetch vision statements");return(await e.json()).vision||[]}catch(e){return console.error("Error fetching vision statements:",e),[]}},updateVisionStatement:async e=>{if(!v.isConfigured())throw new Error("Google Sheets not configured");const t=await v.postJson(O,{action:"updateVisionStatement",vision:e});if(!t.success)throw new Error(t.error||"Save failed");return t.result},fetchFocusAreaGoals:async()=>{if(!v.isConfigured())return[];try{const e=await fetch(`${O}?action=getFocusAreaGoals`);if(!e.ok)throw new Error("Failed to fetch focus area goals");return(await e.json()).goals||[]}catch(e){return console.error("Error fetching focus area goals:",e),[]}},updateFocusAreaGoal:async e=>{if(!v.isConfigured())throw new Error("Google Sheets not configured");const t=await v.postJson(O,{action:"updateFocusAreaGoal",goal:e});if(!t.success)throw new Error(t.error||"Save failed");return t.result},deleteFocusAreaGoal:async e=>{if(!v.isConfigured())throw new Error("Google Sheets not configured");const t=await v.postJson(O,{action:"deleteFocusAreaGoal",id:e});if(!t.success)throw new Error(t.error||"Delete failed");return t.result},fetchQuarterlyUpdates:async()=>{if(!v.isConfigured())return[];try{const e=await fetch(`${O}?action=getQuarterlyUpdates`);if(!e.ok)throw new Error("Failed to fetch quarterly updates");return(await e.json()).updates||[]}catch(e){return console.error("Error fetching quarterly updates:",e),[]}},fetchSectionSnapshots:async()=>{if(!v.isConfigured())return null;try{const e=await fetch(`${O}?action=getSectionSnapshots`);if(!e.ok)throw new Error("Failed to fetch section snapshots");return(await e.json()).sections||null}catch(e){return console.error("Error fetching section snapshots:",e),null}}},Y=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to read cache:",t),null}},V=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(s){console.warn("Failed to write cache:",s)}},Fe=()=>`${Date.now()}-${Math.random().toString(16).slice(2,6)}`,Ie=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(t){return e}},le=e=>e==null?"N/A":new Intl.NumberFormat("en-US").format(Number(e)||0),qe=e=>{if(e==null)return"N/A";const t=Number(e)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t)},ue=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString().slice(0,10)},Je=(e,t=3)=>{const s=[];for(String(e||"").split(`
`).map(d=>d.trim()).filter(Boolean).forEach(d=>{const o=d.split("|").map(i=>i.trim()),[c="",k="",n=""]=o;s.push({action:c,owner:k,deadline:n})});s.length<t;)s.push({action:"",owner:"",deadline:""});return s.slice(0,t)},Se=e=>e.map(t=>[t.action,t.owner,t.deadline].map(s=>s.trim()).join(" | ")).filter(t=>t.replace(/\|/g,"").trim()!=="").join(`
`),L=e=>S(C({},e),{focusArea:e.focusArea||e.pillar||"",progress:Number(e.progress)||0,updates:Array.isArray(e.updates)?e.updates:[]}),We=e=>e.slice().sort((t,s)=>new Date(s.date)-new Date(t.date)),Ze=e=>{switch(e){case"On track":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"At risk":return"bg-amber-100 text-amber-700 border-amber-200";case"Behind":return"bg-rose-100 text-rose-700 border-rose-200";case"Complete":return"bg-ocean text-white border-ocean";default:return"bg-stone-100 text-stone-600 border-stone-200"}},Ke=e=>{switch(e){case"Reviewed":return"text-emerald-700";case"Needs info":return"text-rose-700";default:return"text-amber-700"}},Xe=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 2l2.5 6 6 2.5-6 2.5-2.5 6-2.5-6L3.5 10.5 9.5 8z"}));const me=({size:e=22})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},React.createElement("path",{d:"M12 2.8l2.7 5.7 6.3.9-4.5 4.4 1.1 6.2L12 17.8 6.4 20l1.1-6.2-4.5-4.4 6.3-.9L12 2.8z"}));const Ee=({size:e=20})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M19 12H5"}),React.createElement("path",{d:"M11 5l-7 7 7 7"}));const Te=({value:e})=>React.createElement("div",{className:"w-full bg-stone-100 rounded-full h-3 overflow-hidden"},React.createElement("div",{className:"h-full bg-clay transition-all",style:{width:`${Math.min(Math.max(e,0),100)}%`}})),et=({status:e})=>React.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${Ze(e)}`},e);const tt=({update:e,onReviewSave:t})=>{const[s,u]=b(e.reviewStatus||"Pending"),[d,o]=b(e.reviewNotes||"");return React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},Ie(e.date)),React.createElement("h4",{className:"font-display text-lg text-ink mt-1"},e.summary||"Update"),React.createElement("p",{className:"text-sm text-stone-600"},"Submitted by ",e.author||"Team member")),React.createElement("div",{className:`text-xs font-semibold ${Ke(s)}`},s)),e.details&&React.createElement("p",{className:"text-sm text-stone-700 mt-3 whitespace-pre-wrap"},e.details),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-stone-600 mt-4"},React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Blockers"),React.createElement("div",null,e.blockers||"None noted")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Next steps"),React.createElement("div",null,e.nextSteps||"No next steps yet")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Progress"),React.createElement("div",null,typeof e.progress=="number"?`${Math.round(e.progress)}%`:"Not shared"))),e.links&&React.createElement("div",{className:"mt-3 text-xs text-ocean"},React.createElement("a",{href:e.links,target:"_blank",rel:"noreferrer",className:"underline"},"View supporting link")),React.createElement("div",{className:"mt-4 pt-4 border-t border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champion review"),React.createElement("div",{className:"flex flex-col md:flex-row md:items-center gap-3 mt-2"},React.createElement("select",{value:s,onChange:c=>u(c.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white text-sm"},Ye.map(c=>React.createElement("option",{key:c,value:c},c))),React.createElement("input",{type:"text",value:d,onChange:c=>o(c.target.value),placeholder:"Review notes",className:"flex-1 px-3 py-2 border border-stone-200 rounded-lg text-sm"}),React.createElement("button",{onClick:()=>t(e.id,s,d),className:"px-4 py-2 bg-ocean text-white rounded-lg text-sm"},"Save review"))))},at=({initiative:e,onSubmit:t})=>{const[s,u]=b(""),[d,o]=b(""),[c,k]=b(""),[n,i]=b(""),[g,x]=b(""),[w,T]=b(e.progress||0),[I,G]=b("");return React.createElement("form",{onSubmit:m=>{m.preventDefault();const a={id:Fe(),date:new Date().toISOString(),author:s,summary:d,details:c,blockers:n,nextSteps:g,progress:Number(w)||0,links:I,reviewStatus:"Pending",reviewNotes:""};t(a),u(""),o(""),k(""),i(""),x(""),T(e.progress||0),G("")},className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h3",{className:"font-display text-xl"},"Submit progress update"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board members")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Your name"),React.createElement("input",{type:"text",value:s,onChange:m=>u(m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Name or team",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Update headline"),React.createElement("input",{type:"text",value:d,onChange:m=>o(m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Short summary",required:!0})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Details"),React.createElement("textarea",{value:c,onChange:m=>k(m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"What changed? What decisions were made?"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Blockers"),React.createElement("input",{type:"text",value:n,onChange:m=>i(m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Risks or constraints"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next steps"),React.createElement("input",{type:"text",value:g,onChange:m=>x(m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Immediate actions"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Updated progress"),React.createElement("select",{value:w,onChange:m=>T(m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},De.map(m=>React.createElement("option",{key:m,value:m},m,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Supporting link"),React.createElement("input",{type:"url",value:I,onChange:m=>G(m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"https://"}))),React.createElement("div",{className:"mt-4 flex items-center justify-end"},React.createElement("button",{type:"submit",className:"px-5 py-2 bg-clay text-white rounded-lg"},"Submit update")))},st=({initiative:e,onSave:t,onCancel:s,isSaving:u})=>{const[d,o]=b(()=>({title:(e==null?void 0:e.title)||"",focusArea:(e==null?void 0:e.focusArea)||"",description:(e==null?void 0:e.description)||"",owner:(e==null?void 0:e.owner)||"",coChampions:(e==null?void 0:e.coChampions)||"",status:(e==null?void 0:e.status)||H[0],progress:(e==null?void 0:e.progress)||0,targetDate:(e==null?void 0:e.targetDate)||"",successMetrics:(e==null?void 0:e.successMetrics)||"",threeYearVision:(e==null?void 0:e.threeYearVision)||"",annualGoals:(e==null?void 0:e.annualGoals)||"",notes:(e==null?void 0:e.notes)||""})),c=(n,i)=>{o(g=>S(C({},g),{[n]:i}))};return React.createElement("form",{onSubmit:n=>{n.preventDefault();const i=S(C(C({},e),d),{progress:Number(d.progress)||0,updates:(e==null?void 0:e.updates)||[]});t(i)},className:"bg-white rounded-2xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl"},e?"Edit initiative":"Add initiative"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board leaders")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-5"},React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Initiative title"),React.createElement("input",{type:"text",value:d.title,onChange:n=>c("title",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Focus area"),React.createElement("select",{value:d.focusArea,onChange:n=>c("focusArea",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},React.createElement("option",{value:""},"Select focus area"),K.map(n=>React.createElement("option",{key:n,value:n},n)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("input",{type:"text",value:d.owner,onChange:n=>c("owner",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Lead or team"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Description"),React.createElement("textarea",{value:d.description,onChange:n=>c("description",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("input",{type:"text",value:d.coChampions,onChange:n=>c("coChampions",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Names or roles"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Status"),React.createElement("select",{value:d.status,onChange:n=>c("status",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},H.map(n=>React.createElement("option",{key:n,value:n},n)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Progress"),React.createElement("select",{value:d.progress,onChange:n=>c("progress",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},De.map(n=>React.createElement("option",{key:n,value:n},n,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("input",{type:"date",value:d.targetDate,onChange:n=>c("targetDate",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("input",{type:"text",value:d.successMetrics,onChange:n=>c("successMetrics",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"What does success look like?"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("textarea",{value:d.threeYearVision,onChange:n=>c("threeYearVision",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Describe what success looks like in three years."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("textarea",{value:d.annualGoals,onChange:n=>c("annualGoals",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"List the annual goals that move this forward."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("textarea",{value:d.notes,onChange:n=>c("notes",n.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]"}))),React.createElement("div",{className:"mt-6 flex items-center justify-end gap-3"},React.createElement("button",{type:"button",onClick:s,className:"px-4 py-2 border border-stone-200 rounded-lg"},"Cancel"),React.createElement("button",{type:"submit",disabled:u,className:"px-5 py-2 bg-ocean text-white rounded-lg"},u?"Saving...":"Save initiative")))},rt=({onSubmitted:e})=>{const[t,s]=b({focusArea:"",quarter:"",year:new Date().getFullYear().toString(),submittedDate:new Date().toISOString().slice(0,10),primaryFocus:"",goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:"",challenges:{capacity:!1,budget:!1,scheduling:!1,coordination:!1,external:!1,other:!1,otherText:"",details:""},supportNeeded:"",supportTypes:{staff:!1,marketing:!1,board:!1,funding:!1,facilities:!1,other:!1,otherText:""},nextPriorities:["","",""],finalTallyOverview:""}),[u,d]=b(!1),[o,c]=b(!1),[k,n]=b([]),i=(r,m)=>{s(a=>S(C({},a),{[r]:m}))},g=(r,m,a)=>{s(f=>{const F=f.goals.map((R,U)=>U===r?S(C({},R),{[m]:a}):R);return S(C({},f),{goals:F})})},x=(r,m)=>{s(a=>S(C({},a),{challenges:S(C({},a.challenges),{[r]:m})}))},w=(r,m)=>{s(a=>S(C({},a),{supportTypes:S(C({},a.supportTypes),{[r]:m})}))},T=(r,m)=>{s(a=>{const f=a.nextPriorities.map((F,R)=>R===r?m:F);return S(C({},a),{nextPriorities:f})})},I=async r=>{r.preventDefault(),c(!0);try{await v.submitQuarterlyUpdate(S(C({},t),{uploadedFiles:k})),e==null||e()}catch(m){console.error("Quarterly update submit failed:",m),alert("Submission failed. Please try again.")}c(!1)},G=async r=>{const m=Array.from(r.target.files||[]);if(m.length){d(!0);try{const a=await Promise.all(m.map(f=>new Promise((F,R)=>{const U=new FileReader;U.onload=async()=>{const M=String(U.result||"").split(",")[1]||"";try{const B=await v.uploadFile({filename:f.name,mimeType:f.type,data:M});F(B)}catch(B){R(B)}},U.onerror=R,U.readAsDataURL(f)})));n(f=>[...f,...a])}catch(a){console.error("Failed to upload files:",a),alert("Failed to upload files. Please try again.")}d(!1),r.target.value=""}};return React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("h1",{className:"font-display text-3xl text-ink"},"Quarterly Strategic Area Update Form"),React.createElement("p",{className:"text-stone-600 mt-2"},"Share quarterly progress, challenges, and support needs for each focus area."),React.createElement("form",{onSubmit:I,className:"mt-6 space-y-8"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Organizational area"),React.createElement("select",{value:t.focusArea,onChange:r=>i("focusArea",r.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white",required:!0},React.createElement("option",{value:""},"Select area"),ce.map(r=>React.createElement("option",{key:r.label,value:r.label},r.label)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Quarter"),React.createElement("select",{value:t.quarter,onChange:r=>i("quarter",r.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white",required:!0},React.createElement("option",{value:""},"Select quarter"),["Q1","Q2","Q3","Final"].map(r=>React.createElement("option",{key:r,value:r},r)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Year"),React.createElement("input",{type:"text",value:t.year,onChange:r=>i("year",r.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Date submitted"),React.createElement("input",{type:"date",value:t.submittedDate,onChange:r=>i("submittedDate",r.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"}))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Primary focus this quarter"),React.createElement("textarea",{value:t.primaryFocus,onChange:r=>i("primaryFocus",r.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"Main priorities or themes."})),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Quarterly goals and status"),React.createElement("div",{className:"mt-3 space-y-4"},t.goals.map((r,m)=>React.createElement("div",{key:m,className:"grid grid-cols-1 md:grid-cols-[1.2fr_0.6fr_1fr] gap-3"},React.createElement("input",{type:"text",value:r.goal,onChange:a=>g(m,"goal",a.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:`Goal ${m+1}`}),React.createElement("select",{value:r.status,onChange:a=>g(m,"status",a.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white"},["On Track","At Risk","Off Track"].map(a=>React.createElement("option",{key:a,value:a},a))),React.createElement("input",{type:"text",value:r.summary,onChange:a=>g(m,"summary",a.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Progress summary"}))))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"What went well"),React.createElement("textarea",{value:t.wins,onChange:r=>i("wins",r.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"Milestones, events, completed projects."})),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges encountered"),React.createElement("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-stone-700"},React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.challenges.capacity,onChange:r=>x("capacity",r.target.checked)}),"Capacity or volunteer limitations"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.challenges.budget,onChange:r=>x("budget",r.target.checked)}),"Budget or funding constraints"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.challenges.scheduling,onChange:r=>x("scheduling",r.target.checked)}),"Scheduling or timing issues"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.challenges.coordination,onChange:r=>x("coordination",r.target.checked)}),"Cross-area coordination gaps"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.challenges.external,onChange:r=>x("external",r.target.checked)}),"External factors"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.challenges.other,onChange:r=>x("other",r.target.checked)}),"Other")),t.challenges.other&&React.createElement("input",{type:"text",value:t.challenges.otherText,onChange:r=>x("otherText",r.target.value),className:"mt-3 w-full px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Other challenges"}),React.createElement("textarea",{value:t.challenges.details,onChange:r=>x("details",r.target.value),className:"mt-3 w-full px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Details"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Support needed to stay on track"),React.createElement("textarea",{value:t.supportNeeded,onChange:r=>i("supportNeeded",r.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Be specific about the help needed."})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Type of support needed"),React.createElement("div",{className:"mt-2 space-y-2 text-sm text-stone-700"},React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.supportTypes.staff,onChange:r=>w("staff",r.target.checked)}),"Staff or volunteer help"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.supportTypes.marketing,onChange:r=>w("marketing",r.target.checked)}),"Marketing or communications"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.supportTypes.board,onChange:r=>w("board",r.target.checked)}),"Board guidance or decision"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.supportTypes.funding,onChange:r=>w("funding",r.target.checked)}),"Funding or fundraising support"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.supportTypes.facilities,onChange:r=>w("facilities",r.target.checked)}),"Facilities or logistics"),React.createElement("label",{className:"flex items-center gap-2"},React.createElement("input",{type:"checkbox",checked:t.supportTypes.other,onChange:r=>w("other",r.target.checked)}),"Other")),t.supportTypes.other&&React.createElement("input",{type:"text",value:t.supportTypes.otherText,onChange:r=>w("otherText",r.target.value),className:"mt-3 w-full px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Other support type"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Top 3 priorities for next quarter"),React.createElement("div",{className:"mt-3 space-y-2"},t.nextPriorities.map((r,m)=>React.createElement("input",{key:m,type:"text",value:r,onChange:a=>T(m,a.target.value),className:"w-full px-3 py-2 border border-stone-200 rounded-lg",placeholder:`${m+1}.`})))),t.quarter==="Final"&&React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Final tally overview"),React.createElement("textarea",{value:t.finalTallyOverview,onChange:r=>i("finalTallyOverview",r.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[140px]",placeholder:"End-of-year summary and tally overview."})),React.createElement("div",{className:"flex justify-end"},React.createElement("button",{type:"submit",className:"px-6 py-3 bg-gold text-white rounded-lg",disabled:o},o?"Submitting...":"Submit quarterly update")))))},ot=({areaLabel:e,quarter:t,review:s,onSave:u})=>{const d=a=>({statusAfterReview:(a==null?void 0:a.statusAfterReview)||"",actionsRows:Je(a==null?void 0:a.actionsAssigned),crossAreaImpacts:(a==null?void 0:a.crossAreaImpacts)||"",areasImpacted:(a==null?void 0:a.areasImpacted)||"",coordinationNeeded:(a==null?void 0:a.coordinationNeeded)||"",priorityConfirmation:(a==null?void 0:a.priorityConfirmation)||"",escalationFlag:(a==null?void 0:a.escalationFlag)||"",reviewCompletedOn:ue(a==null?void 0:a.reviewCompletedOn),nextCheckInDate:ue(a==null?void 0:a.nextCheckInDate)}),[o,c]=b(()=>d(s)),[k,n]=b(!1),[i,g]=b(!1);Z(()=>{c(d(s))},[s,e,t]),Z(()=>{g(!1)},[e,t]);const x=(a,f)=>{c(F=>S(C({},F),{[a]:f}))},w=(a,f,F)=>{c(R=>{const U=R.actionsRows.map((M,B)=>B===a?S(C({},M),{[f]:F}):M);return S(C({},R),{actionsRows:U})})},T=async()=>{n(!0);const a=o.crossAreaImpacts==="Affects another area",f={focusArea:e,quarter:t,statusAfterReview:o.statusAfterReview,actionsAssigned:Se(o.actionsRows),crossAreaImpacts:o.crossAreaImpacts,areasImpacted:a?o.areasImpacted:"",coordinationNeeded:a?o.coordinationNeeded:"",priorityConfirmation:o.priorityConfirmation,escalationFlag:o.escalationFlag,reviewCompletedOn:o.reviewCompletedOn,nextCheckInDate:o.nextCheckInDate};try{await u(f)}catch(F){console.error("Failed to save review:",F),alert("Failed to save review. Please try again.")}n(!1)},I=["On track","Minor adjustments needed","Off track - intervention required"],G=["None","Affects another area"],r=["Approved","Adjusted","Replaced"],m=["No escalation needed","Requires board attention","Requires budget review","Requires policy clarification"];if(!i){const f=[{label:"Status After Review",value:o.statusAfterReview},{label:"Actions Assigned",value:Se(o.actionsRows)},{label:"Cross-Area Impacts",value:o.crossAreaImpacts},{label:"Area(s) impacted",value:o.areasImpacted},{label:"Coordination needed",value:o.coordinationNeeded},{label:"Priority Confirmation (Next Quarter)",value:o.priorityConfirmation},{label:"Escalation Flag",value:o.escalationFlag},{label:"Review completed on",value:o.reviewCompletedOn},{label:"Next check-in date",value:o.nextCheckInDate}].filter(F=>F.value);return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},t," review"),React.createElement("button",{type:"button",onClick:()=>g(!0),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Edit review")),f.length===0?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No review submitted yet."):React.createElement("div",{className:"mt-4 space-y-2 text-sm text-stone-700"},f.map(F=>React.createElement("div",{key:F.label},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},F.label),React.createElement("div",{className:"whitespace-pre-wrap"},F.value)))))}return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},t," review"),React.createElement("button",{type:"button",onClick:()=>g(!1),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Close")),React.createElement("div",{className:"mt-3 space-y-5 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Status After Review"),React.createElement("div",{className:"mt-2 space-y-2"},I.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-status`,value:a,checked:o.statusAfterReview===a,onChange:f=>x("statusAfterReview",f.target.value),className:"accent-clay"}),React.createElement("span",null,a))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Actions Assigned"),React.createElement("div",{className:"mt-2 grid grid-cols-3 gap-2 text-xs uppercase tracking-wide text-steel"},React.createElement("span",null,"Action"),React.createElement("span",null,"Owner"),React.createElement("span",null,"Deadline")),React.createElement("div",{className:"mt-2 space-y-2"},o.actionsRows.map((a,f)=>React.createElement("div",{key:f,className:"grid grid-cols-1 md:grid-cols-3 gap-2"},React.createElement("input",{type:"text",value:a.action,onChange:F=>w(f,"action",F.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:a.owner,onChange:F=>w(f,"owner",F.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:a.deadline,onChange:F=>w(f,"deadline",F.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Cross-Area Impacts"),React.createElement("div",{className:"mt-2 space-y-2"},G.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-impact`,value:a,checked:o.crossAreaImpacts===a,onChange:f=>x("crossAreaImpacts",f.target.value),className:"accent-clay"}),React.createElement("span",null,a)))),o.crossAreaImpacts==="Affects another area"&&React.createElement("div",{className:"mt-3 grid grid-cols-1 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Area(s) impacted"),React.createElement("input",{type:"text",value:o.areasImpacted,onChange:a=>x("areasImpacted",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Coordination needed"),React.createElement("textarea",{value:o.coordinationNeeded,onChange:a=>x("coordinationNeeded",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[90px]"})))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Priority Confirmation (Next Quarter)"),React.createElement("div",{className:"mt-2 space-y-2"},r.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-priority`,value:a,checked:o.priorityConfirmation===a,onChange:f=>x("priorityConfirmation",f.target.value),className:"accent-clay"}),React.createElement("span",null,a))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Escalation Flag"),React.createElement("div",{className:"mt-2 space-y-2"},m.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-escalation`,value:a,checked:o.escalationFlag===a,onChange:f=>x("escalationFlag",f.target.value),className:"accent-clay"}),React.createElement("span",null,a))))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Review completed on"),React.createElement("input",{type:"date",value:o.reviewCompletedOn,onChange:a=>x("reviewCompletedOn",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next check-in date"),React.createElement("input",{type:"date",value:o.nextCheckInDate,onChange:a=>x("nextCheckInDate",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})))),React.createElement("div",{className:"mt-5 flex items-center justify-end"},React.createElement("button",{type:"button",onClick:T,disabled:k,className:"px-4 py-2 bg-clay text-white rounded-lg text-sm"},k?"Saving...":"Save review")))},lt=({focusArea:e,vision:t,onSave:s,isSaving:u})=>{const[d,o]=b(!1),[c,k]=b(t||"");return Z(()=>{d||k(t||"")},[t,d]),React.createElement("div",{className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e),React.createElement("div",{className:"flex items-center gap-2 text-xs"},d?React.createElement(React.Fragment,null,React.createElement("button",{type:"button",onClick:()=>{o(!1),k(t||"")},className:"px-2 py-1 border border-stone-200 rounded-lg",disabled:u},"Cancel"),React.createElement("button",{type:"button",onClick:()=>{s(e,c),o(!1)},className:"px-2 py-1 bg-ocean text-white rounded-lg",disabled:u},u?"Saving...":"Save")):React.createElement("button",{type:"button",onClick:()=>o(!0),className:"px-2 py-1 border border-stone-200 rounded-lg"},"Edit"))),d?React.createElement("textarea",{value:c,onChange:i=>k(i.target.value),className:"w-full mt-3 px-3 py-2 border border-stone-200 rounded-lg text-sm min-h-[120px]",placeholder:"Describe what success looks like in three years."}):React.createElement("div",{className:"text-sm text-stone-700 mt-2 space-y-1"},t?String(t).split(`
`).map(i=>i.trim()).filter(Boolean).map((i,g)=>React.createElement("div",{key:`${e}-vision-${g}`,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(me,{size:12})),React.createElement("span",{className:"whitespace-pre-wrap"},i))):React.createElement("span",null,"Add a three-year vision for this focus area.")))},nt=({focusArea:e,initialGoal:t,onSave:s,onCancel:u,isSaving:d})=>{const[o,c]=b(()=>({id:(t==null?void 0:t.id)||"",focusArea:e,goalTopic:"Annual goal",annualGoals:(t==null?void 0:t.annualGoals)||"",startDate:(t==null?void 0:t.startDate)||"",dueDate:(t==null?void 0:t.dueDate)||"",progress:(t==null?void 0:t.progress)||H[0],category:(t==null?void 0:t.category)||"",goalDetails:(t==null?void 0:t.goalDetails)||""})),k=(i,g)=>{c(x=>S(C({},x),{[i]:g}))};return React.createElement("form",{onSubmit:i=>{i.preventDefault(),s(S(C({},o),{goalTopic:"Annual goal",annualGoalsItems:[]}))},className:"mt-4 bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goal"),React.createElement("input",{type:"text",value:o.annualGoals,onChange:i=>k("annualGoals",i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",required:!0})),React.createElement("div",{className:"md:col-span-2"},React.createElement("textarea",{value:o.goalDetails,onChange:i=>k("goalDetails",i.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[60px]",placeholder:"Add details, notes, or key steps."})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Due date"),React.createElement("input",{type:"date",value:ue(o.dueDate),onChange:i=>k("dueDate",i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Progress"),React.createElement("select",{value:o.progress,onChange:i=>k("progress",i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},H.map(i=>React.createElement("option",{key:i,value:i},i)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Category (optional)"),React.createElement("input",{type:"text",value:o.category,onChange:i=>k("category",i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Possible Goals For Future Years"}))),React.createElement("div",{className:"mt-4 flex items-center justify-end gap-2"},React.createElement("button",{type:"button",onClick:u,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm",disabled:d},"Cancel"),React.createElement("button",{type:"submit",className:"px-4 py-2 bg-ocean text-white rounded-lg text-sm",disabled:d},d?"Saving...":"Save goal")))},dt=({focusArea:e,goals:t,onSaveGoal:s,onDeleteGoal:u,isSaving:d})=>{const[o,c]=b(null),[k,n]=b(!1),i=ne(()=>{const w={};return t.forEach(T=>{const I=T.category||"Goals";w[I]||(w[I]=[]),w[I].push(T)}),w},[t]),g=w=>{n(!1),c(w)},x=w=>{s(w),c(null),n(!1)};return React.createElement("div",{className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Focus area"),React.createElement("div",{className:"font-display text-xl text-ink mt-1"},e)),React.createElement("button",{type:"button",onClick:()=>{n(!0),c(null)},className:"px-3 py-2 border border-stone-200 rounded-lg text-sm"},"Add goal")),Object.keys(i).length===0&&React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No goals yet. Add the first goal for this focus area."),Object.entries(i).map(([w,T])=>React.createElement("div",{key:w,className:"mt-4"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},w),React.createElement("div",{className:"mt-2 space-y-3"},T.map(I=>React.createElement("div",{key:I.id,className:"border border-stone-100 rounded-xl p-3 bg-white"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"font-semibold text-ink"},"Annual goal"),I.annualGoals&&React.createElement("div",{className:"text-sm text-stone-600 mt-2 space-y-2"},React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(me,{size:12})),React.createElement("div",{className:"whitespace-pre-wrap"},I.annualGoals))),I.goalDetails&&React.createElement("div",{className:"text-xs text-stone-500 mt-2 whitespace-pre-wrap"},I.goalDetails),I.dueDate&&React.createElement("div",{className:"text-xs text-stone-500 mt-2"},`Due: ${Ie(I.dueDate)}`)),React.createElement("div",{className:"text-xs text-stone-600"},I.progress||H[0])),React.createElement("div",{className:"mt-2 flex items-center gap-2 text-xs"},React.createElement("button",{type:"button",onClick:()=>g(I),className:"px-2 py-1 border border-stone-200 rounded-lg"},"Edit"),React.createElement("button",{type:"button",onClick:()=>u(I.id),className:"px-2 py-1 border border-rose-200 text-rose-600 rounded-lg",disabled:d},"Delete"))))))),(k||o)&&React.createElement(nt,{focusArea:e,initialGoal:o,onSave:x,onCancel:()=>{n(!1),c(null)},isSaving:d}))},it=({goals:e,onSaveGoal:t,onDeleteGoal:s,isSaving:u})=>React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"flex items-center justify-between mb-6"},React.createElement("div",null,React.createElement("h2",{className:"font-display text-3xl text-ink"},"Focus areas"),React.createElement("p",{className:"text-stone-600 mt-1"},"Track goals by strategic focus area."))),React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},K.map(d=>React.createElement(dt,{key:d,focusArea:d,goals:e.filter(o=>o.focusArea===d),onSaveGoal:t,onDeleteGoal:s,isSaving:u})))),ct=({initiatives:e,metrics:t,visionStatements:s,onSaveVision:u,isSavingVision:d})=>{const[o,c]=b(null),k=e.length?Math.round(e.reduce((g,x)=>g+(Number(x.progress)||0),0)/e.length):0,n=K.map(g=>({focusArea:g,count:e.filter(x=>x.focusArea===g).length})),i=K.map(g=>{const x=s==null?void 0:s.find(T=>T.focusArea===g),w=e.find(T=>T.focusArea===g&&T.threeYearVision);return{focusArea:g,vision:(x==null?void 0:x.threeYearVision)||(w==null?void 0:w.threeYearVision)||""}});return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6"},React.createElement("div",{className:"glass rounded-3xl p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-center gap-3 text-ocean"},React.createElement(Xe,{size:28}),React.createElement("span",{className:"text-xs uppercase tracking-wide"},"Mission and vision")),React.createElement("h1",{className:"font-display text-xl md:text-2xl text-ink mt-4"},"Mission: To revitalize North Star House as a cultural gathering place that connects people of all ages through the arts, theater, literature, history, and music\u2014fostering creativity, learning, and community for generations to come."),React.createElement("p",{className:"text-stone-600 mt-2 text-xs md:text-sm"},"Vision: [Add your vision statement here]"),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between text-xs text-steel mb-2"},React.createElement("span",null,"Overall progress"),React.createElement("span",null,k,"%")),React.createElement(Te,{value:k}))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},[{label:"Volunteers",value:le(t==null?void 0:t.volunteersCount)},{label:"Events booked",value:le(t==null?void 0:t.eventsCount)},{label:"Donation total",value:qe(t==null?void 0:t.donationsTotal)},{label:"Sponsors",value:le(t==null?void 0:t.sponsorsCount)}].map(g=>React.createElement("div",{key:g.label,className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},g.label),React.createElement("div",{className:"font-display text-3xl text-ink mt-3"},g.value))))),React.createElement("div",{className:"mt-8"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl text-ink"},"Three-year vision"),React.createElement("span",{className:"text-xs uppercase tracking-wide text-steel"},"By focus area")),React.createElement("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},i.map(g=>React.createElement(lt,{key:g.focusArea,focusArea:g.focusArea,vision:g.vision,onSave:u,isSaving:d})))),React.createElement("div",{className:"mt-8"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl text-ink"},"Quarterly focus"),React.createElement("span",{className:"text-xs uppercase tracking-wide text-steel"},"Tap to expand")),React.createElement("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},["Q1","Q2","Q3","Final"].map(g=>{const x=o===g;return React.createElement("div",{key:g,className:"bg-white rounded-2xl border border-stone-100 card-shadow"},React.createElement("button",{type:"button",onClick:()=>c(x?null:g),className:"w-full flex items-center justify-between px-5 py-4 text-left"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Quarter"),React.createElement("div",{className:"font-display text-xl text-ink"},g)),React.createElement("span",{className:"text-sm text-ocean"},x?"Close":"Open")),x&&React.createElement("div",{className:"px-5 pb-5 text-sm text-stone-700"},"Add quarterly priorities, milestones, and key outcomes here."))}))))};const pt=({initiative:e,onBack:t,onEdit:s,onSubmitUpdate:u,onReviewUpdate:d})=>{const o=We(e.updates||[]);return React.createElement("div",{className:"max-w-5xl mx-auto fade-up"},React.createElement("button",{onClick:t,className:"flex items-center gap-2 text-sm text-ocean mb-4"},React.createElement(Ee,{size:18})," Back to initiatives"),React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e.focusArea),React.createElement("h1",{className:"font-display text-3xl text-ink mt-2"},e.title),React.createElement("p",{className:"text-stone-600 mt-2"},e.description)),React.createElement("div",{className:"flex flex-col items-start gap-3"},React.createElement(et,{status:e.status}),React.createElement("button",{onClick:s,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm"},"Edit initiative"))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.owner||"Unassigned")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.coChampions||"Not listed")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.targetDate||"TBD"))),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between text-xs text-steel mb-2"},React.createElement("span",null,"Progress"),React.createElement("span",null,Math.round(e.progress),"%")),React.createElement(Te,{value:e.progress})),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.successMetrics||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.notes||"No notes yet"))),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.threeYearVision||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.annualGoals||"Not defined")))),React.createElement("div",{className:"mt-6"},React.createElement(at,{initiative:e,onSubmit:c=>u(e,c)})),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"font-display text-2xl"},"Update log"),React.createElement("span",{className:"text-xs text-steel"},o.length," updates")),o.length===0?React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-6 text-stone-600"},"No updates yet. Submit the first update to start the log."):React.createElement("div",{className:"grid grid-cols-1 gap-4"},o.map(c=>React.createElement(tt,{key:c.id,update:c,onReviewSave:(k,n,i)=>d(e,k,n,i)})))))},ut=()=>{const[e,t]=b([]),[s,u]=b("dashboard"),[d,o]=b(null),[c,k]=b(null),[n,i]=b(!0),[g,x]=b(!1),[w,T]=b(!1),[I,G]=b({donationsTotal:null,volunteersCount:null,eventsCount:null,sponsorsCount:null}),[r,m]=b([]),[a,f]=b(!1),[F,R]=b([]),[U,M]=b(!1),[B,ge]=b({Construction:null,Grounds:null,Interiors:null,Docents:null,"Fund Development":null,"Organizational Development":null,Venue:null}),[X,ee]=b([]),Q=ce.reduce((l,p)=>(l[p.key]={label:p.label,key:p.sheet},l),{}),te=ne(()=>e.find(l=>l.id===d)||null,[e,d]),q=ne(()=>e.find(l=>l.id===c)||null,[e,c]);Z(()=>{Oe()},[]);const Oe=async({useCache:l=!0}={})=>{var ve,xe;if(!ie){const $=de();t((($==null?void 0:$.objects)||[]).map(L)),T(!1),R(He),i(!1);return}const p=l?de():null,N=p&&Date.now()-p.updatedAt<ze,h=l?Y(Ne):null,y=l?Y(ke):null,D=l?Y(re):null,A=l?Y(oe):null,j=l?Y(W):null;(ve=p==null?void 0:p.objects)!=null&&ve.length?(t(p.objects.map(L)),T(v.isConfigured()),i(!1)):i(!0),h&&G(h),y&&ge(y),D&&ee(D),A&&m(A),j&&R(j);try{const he=(await v.fetchAll()||[]).map(L);t(he),T(v.isConfigured()),z(he)}catch($){console.error("Failed to load data:",$),(xe=p==null?void 0:p.objects)!=null&&xe.length||t(pe.map(L))}i(!1);const E=await v.fetchMetrics();E&&(G(E),V(Ne,E));const P=await v.fetchSectionSnapshots();P&&(ge(P),V(ke,P));const _=await v.fetchQuarterlyUpdates();_.length&&(ee(_),V(re,_));const ae=await v.fetchVisionStatements();ae.length&&(m(ae),V(oe,ae));const se=await v.fetchFocusAreaGoals();se.length&&(R(se),V(W,se))},gt=l=>{o(l),u("detail"),window.scrollTo(0,0)},vt=()=>{k(null),u("add"),window.scrollTo(0,0)},Re=l=>{k(l.id),u("edit"),window.scrollTo(0,0)},Pe=async l=>{x(!0);try{if(q){const p=await v.update(S(C({},l),{updates:l.updates||[]}));t(N=>{const h=N.map(y=>y.id===p.id?L(p):y);return z(h),h}),o(p.id),u("detail")}else{const p=await v.create(S(C({},l),{id:l.id||Fe(),updates:l.updates||[]}));t(N=>{const h=[...N,L(p)];return z(h),h}),o(p.id),u("detail")}}catch(p){console.error("Failed to save initiative:",p),alert("Failed to save. Please try again.")}x(!1)},je=async(l,p)=>{const N=[p,...l.updates||[]],h=S(C({},l),{updates:N,progress:p.progress,lastUpdateAt:p.date});try{await v.update(h),t(y=>{const D=y.map(A=>A.id===l.id?L(h):A);return z(D),D})}catch(y){console.error("Failed to submit update:",y),alert("Failed to submit update. Please try again.")}},Ue=async(l,p,N,h)=>{const y=(l.updates||[]).map(A=>A.id===p?S(C({},A),{reviewStatus:N,reviewNotes:h}):A),D=S(C({},l),{updates:y});try{await v.update(D),t(A=>{const j=A.map(E=>E.id===l.id?L(D):E);return z(j),j})}catch(A){console.error("Failed to save review:",A),alert("Failed to save review. Please try again.")}},Me=async l=>{const y=l,{focusArea:p,quarter:N}=y,h=we(y,["focusArea","quarter"]);await v.submitReviewUpdate(l),ee(D=>{const A=D.findIndex(P=>P.focusArea===p&&P.quarter===N),j=A>=0?S(C({},D[A]),{payload:S(C({},D[A].payload||{}),{review:h})}):{focusArea:p,quarter:N,submittedDate:"",payload:{review:h}},E=A>=0?D.map((P,_)=>_===A?j:P):[...D,j];return V(re,E),E})},Ve=async(l,p)=>{f(!0);try{const N=await v.updateVisionStatement({focusArea:l,threeYearVision:p});m(h=>{const y=h.findIndex(A=>A.focusArea===l),D=y>=0?h.map((A,j)=>j===y?N:A):[...h,N];return V(oe,D),D})}catch(N){console.error("Failed to save vision statement:",N),alert("Failed to save. Please try again.")}f(!1)},Ge=async l=>{M(!0);try{const p=await v.updateFocusAreaGoal(l);R(N=>{const h=N.findIndex(D=>D.id===p.id),y=h>=0?N.map((D,A)=>A===h?p:D):[...N,p];return V(W,y),y})}catch(p){console.error("Failed to save focus goal:",p),alert("Failed to save. Please try again.")}M(!1)},Le=async l=>{M(!0);try{await v.deleteFocusAreaGoal(l),R(p=>{const N=p.filter(h=>h.id!==l);return V(W,N),N})}catch(p){console.error("Failed to delete focus goal:",p),alert("Failed to delete. Please try again.")}M(!1)},Be=s==="detail"&&te;return React.createElement("div",{className:"min-h-screen"},React.createElement("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-stone-100"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},React.createElement("div",{className:"flex items-center justify-between h-16"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"w-10 h-10 rounded-full bg-gold text-white flex items-center justify-center shadow-sm"},React.createElement(me,{size:18})),React.createElement("div",null,React.createElement("div",{className:"font-display text-lg text-ink"},"North Star Strategic Plan"),React.createElement("div",{className:"text-xs text-steel"},"Board progress tracker"))),React.createElement("div",{className:"flex items-center gap-2 text-sm flex-wrap"},React.createElement("button",{onClick:()=>{u("dashboard"),o(null)},className:`px-3 py-2 rounded-lg ${s==="dashboard"?"bg-stone-100":""}`},"Overview"),React.createElement("button",{onClick:()=>{u("quarterly"),o(null)},className:`px-3 py-2 rounded-lg ${s==="quarterly"?"bg-stone-100":""}`},"Quarterly Form"),React.createElement("span",{className:`text-xs ${w?"text-emerald-600":"text-steel"}`},w?"Synced":"Local"))),React.createElement("div",{className:"pb-4"},React.createElement("div",{className:"flex flex-wrap gap-3"},React.createElement("button",{onClick:()=>{u("focus"),o(null)},className:`tab-button text-sm ${s==="focus"?"active":""}`},"Focus Areas"),ce.map(l=>React.createElement("button",{key:l.key,onClick:()=>{u(l.key),o(null)},className:`tab-button text-sm ${s===l.key?"active":""}`},l.label)))))),React.createElement("main",{className:"px-4 sm:px-6 lg:px-8 py-8"},n?React.createElement("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl border border-stone-100 p-8 text-center text-stone-600"},"Loading strategic plan data..."):React.createElement(React.Fragment,null,s==="dashboard"&&React.createElement(ct,{initiatives:e,metrics:I,visionStatements:r,onSaveVision:Ve,isSavingVision:a}),s==="focus"&&React.createElement(it,{goals:F,onSaveGoal:Ge,onDeleteGoal:Le,isSaving:U}),s==="quarterly"&&React.createElement(rt,{onSubmitted:()=>u("dashboard")}),["construction","grounds","interiors","docents","fund","org","venue"].includes(s)&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("h2",{className:"font-display text-3xl text-ink"},Q[s].label),React.createElement("p",{className:"text-stone-600 mt-2"},"Beginning 2026 snapshot."),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},(()=>{const l=B[Q[s].key];return React.createElement(React.Fragment,null,React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Lead name"),React.createElement("div",{className:"text-lg text-ink mt-2"},(l==null?void 0:l.lead)||"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Budget"),React.createElement("div",{className:"text-lg text-ink mt-2"},(l==null?void 0:l.budget)||"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Volunteers (2026)"),React.createElement("div",{className:"text-lg text-ink mt-2"},(l==null?void 0:l.volunteers)||"N/A")))})())),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},["Q1","Q2","Q3"].map(l=>{var j;const p=Q[s].label,h=X.filter(E=>E.focusArea===p&&E.quarter===l).sort((E,P)=>new Date(P.submittedDate||P.createdAt)-new Date(E.submittedDate||E.createdAt))[0],y=(h==null?void 0:h.payload)||{},D=y.goals&&y.goals.length?y.goals:[{},{},{}],A=y.nextPriorities&&y.nextPriorities.length?y.nextPriorities:["","",""];return React.createElement("div",{key:l,className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},l),React.createElement("div",{className:"text-xs text-steel"},(h==null?void 0:h.submittedDate)||"No submission yet")),React.createElement("div",{className:"mt-3 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Primary focus"),React.createElement("div",null,y.primaryFocus||"")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Goals"),React.createElement("div",{className:"space-y-1"},D.map((E,P)=>React.createElement("div",{key:P},React.createElement("strong",null,E.goal||`Goal ${P+1}`),E.status?` - ${E.status}`:"",E.summary?` (${E.summary})`:"")))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"What went well"),React.createElement("div",null,y.wins||"")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges"),React.createElement("div",null,((j=y.challenges)==null?void 0:j.details)||"")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support needed"),React.createElement("div",null,y.supportNeeded||"")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Next priorities"),React.createElement("div",{className:"space-y-1"},A.map((E,P)=>React.createElement("div",{key:P},E)))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Decisions needed"),React.createElement("div",null,y.decisionsNeeded||""))))})),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},["Q1","Q2","Q3"].map(l=>{var y;const p=Q[s].label,N=X.find(D=>D.focusArea===p&&D.quarter===l),h=(y=N==null?void 0:N.payload)==null?void 0:y.review;return React.createElement(ot,{key:l,areaLabel:p,quarter:l,review:h,onSave:Me})})),React.createElement("div",{className:"mt-6 bg-white rounded-3xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Final tally overview"),React.createElement("div",{className:"mt-3 text-sm text-stone-700"},(()=>{var N;const l=Q[s].label,p=X.find(h=>h.focusArea===l&&h.quarter==="Final");return((N=p==null?void 0:p.payload)==null?void 0:N.finalTallyOverview)||"No final tally submitted yet."})()))),Be&&React.createElement(pt,{initiative:te,onBack:()=>u("list"),onEdit:()=>Re(te),onSubmitUpdate:je,onReviewUpdate:Ue}),(s==="add"||s==="edit")&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("button",{onClick:()=>u(q?"detail":"list"),className:"flex items-center gap-2 text-sm text-ocean mb-4"},React.createElement(Ee,{size:18})," Cancel"),React.createElement(st,{initiative:q,onSave:Pe,onCancel:()=>u(q?"detail":"list"),isSaving:g})))),React.createElement("footer",{className:"mt-12 pb-10 text-center text-xs text-steel"},"Built for shared accountability and board-level clarity."))},mt=ReactDOM.createRoot(document.getElementById("root"));mt.render(React.createElement(ut,null));})();
